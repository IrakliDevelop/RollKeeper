{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/types/spells.ts"],"sourcesContent":["// Spell data types based on the JSON structure from 5e Tools\r\n\r\nexport type SpellSchool = 'A' | 'C' | 'D' | 'E' | 'I' | 'N' | 'T' | 'V';\r\n\r\nexport type SpellClass =\r\n  | 'artificer'\r\n  | 'bard'\r\n  | 'cleric'\r\n  | 'druid'\r\n  | 'paladin'\r\n  | 'ranger'\r\n  | 'sorcerer'\r\n  | 'warlock'\r\n  | 'wizard'\r\n  | 'eldritch knight'\r\n  | 'arcane trickster';\r\n\r\nexport interface SpellTime {\r\n  number: number;\r\n  unit: 'action' | 'bonus' | 'reaction' | 'minute' | 'hour';\r\n  condition?: string;\r\n}\r\n\r\nexport interface SpellRange {\r\n  type:\r\n    | 'point'\r\n    | 'line'\r\n    | 'cone'\r\n    | 'cube'\r\n    | 'sphere'\r\n    | 'hemisphere'\r\n    | 'cylinder'\r\n    | 'self'\r\n    | 'sight'\r\n    | 'unlimited'\r\n    | 'touch'\r\n    | 'special';\r\n  distance?: {\r\n    type: 'feet' | 'miles' | 'self' | 'touch' | 'sight' | 'unlimited';\r\n    amount?: number;\r\n  };\r\n}\r\n\r\nexport interface SpellComponents {\r\n  v?: boolean; // Verbal\r\n  s?: boolean; // Somatic\r\n  m?: string | boolean; // Material (string if specific component, boolean if generic)\r\n}\r\n\r\nexport interface SpellDuration {\r\n  type: 'instant' | 'timed' | 'permanent' | 'special';\r\n  duration?: {\r\n    type: 'minute' | 'hour' | 'day' | 'year' | 'round' | 'turn';\r\n    amount?: number;\r\n  };\r\n  ends?: string[];\r\n  concentration?: boolean;\r\n}\r\n\r\nexport interface SpellMeta {\r\n  ritual?: boolean;\r\n}\r\n\r\nexport interface SpellEntryHigherLevel {\r\n  type: 'entries';\r\n  name: string;\r\n  entries: string[];\r\n}\r\n\r\nexport interface SpellScalingLevelDice {\r\n  label: string;\r\n  scaling: Record<string, string>;\r\n}\r\n\r\n// Raw spell data from JSON files\r\nexport interface RawSpellData {\r\n  name: string;\r\n  source: string;\r\n  page?: number;\r\n  srd?: boolean;\r\n  basicRules?: boolean;\r\n  otherSources?: Array<{\r\n    source: string;\r\n    page: number;\r\n  }>;\r\n  reprintedAs?: string[];\r\n  level: number; // 0-9, where 0 is cantrip\r\n  school: SpellSchool;\r\n  time: SpellTime[];\r\n  range: SpellRange;\r\n  components: SpellComponents;\r\n  duration: SpellDuration[];\r\n  meta?: SpellMeta;\r\n  entries: (string | SpellEntry)[];\r\n  entriesHigherLevel?: SpellEntryHigherLevel[];\r\n  scalingLevelDice?: SpellScalingLevelDice;\r\n  damageInflict?: string[];\r\n  conditionInflict?: string[];\r\n  savingThrow?: string[];\r\n  abilityCheck?: string[];\r\n  spellAttack?: string[];\r\n  miscTags?: string[];\r\n  areaTags?: string[];\r\n  hasFluffImages?: boolean;\r\n}\r\n\r\n// Spell entry objects that can appear in entries array\r\nexport interface SpellEntry {\r\n  type: string;\r\n  name?: string;\r\n  entries?: (string | SpellEntry)[]; // Can be nested\r\n  style?: string;\r\n  items?: (string | SpellEntryItem)[]; // Items can be strings or objects\r\n  caption?: string; // For table entries\r\n  colLabels?: string[]; // For table entries\r\n  colStyles?: string[]; // For table entries\r\n  rows?: (string | number)[][]; // For table entries\r\n}\r\n\r\nexport interface SpellEntryItem {\r\n  type: string;\r\n  name: string;\r\n  entries: string[];\r\n}\r\n\r\n// Processed spell data for our application\r\nexport interface ProcessedSpell {\r\n  id: string; // Generated unique identifier\r\n  name: string;\r\n  level: number;\r\n  school: SpellSchool;\r\n  schoolName: string; // Full school name\r\n  source: string;\r\n  page?: number;\r\n  isRitual: boolean;\r\n  concentration: boolean;\r\n  castingTime: string; // Human-readable casting time\r\n  range: string; // Human-readable range\r\n  components: {\r\n    verbal: boolean;\r\n    somatic: boolean;\r\n    material: boolean;\r\n    materialComponent?: string;\r\n  };\r\n  duration: string; // Human-readable duration\r\n  description: string; // Main description\r\n  higherLevelDescription?: string; // At higher levels description\r\n  classes: SpellClass[]; // Classes that can cast this spell\r\n  tags: string[]; // Searchable tags\r\n  damage?: string[]; // Damage types\r\n  saves?: string[]; // Saving throws\r\n  isCantrip: boolean;\r\n  isSrd: boolean;\r\n}\r\n\r\n// Spellbook state for character\r\nexport interface SpellbookState {\r\n  knownSpells: string[]; // Spell IDs the character knows\r\n  preparedSpells: string[]; // Currently prepared spells\r\n  favoriteSpells: string[]; // Bookmarked spells\r\n  customSpells: ProcessedSpell[]; // User-created spells\r\n  spellbookSettings: {\r\n    showOnlyClassSpells: boolean;\r\n    showOnlyKnownSpells: boolean;\r\n    preferredSources: string[];\r\n    spellbookName: string;\r\n    theme: 'classic' | 'arcane' | 'divine' | 'nature' | 'dark';\r\n  };\r\n}\r\n\r\n// Filtering and search options\r\nexport interface SpellFilters {\r\n  levels: number[];\r\n  schools: SpellSchool[];\r\n  classes: SpellClass[];\r\n  sources: string[];\r\n  components: ('v' | 's' | 'm')[];\r\n  concentration?: boolean;\r\n  ritual?: boolean;\r\n  searchQuery: string;\r\n  castingTime?: string[];\r\n  duration?: string[];\r\n}\r\n\r\n// School mappings\r\nexport const SPELL_SCHOOLS: Record<SpellSchool, string> = {\r\n  A: 'Abjuration',\r\n  C: 'Conjuration',\r\n  D: 'Divination',\r\n  E: 'Enchantment',\r\n  I: 'Illusion',\r\n  N: 'Necromancy',\r\n  T: 'Transmutation',\r\n  V: 'Evocation',\r\n};\r\n\r\n// Class spell lists mapping (we'll populate this based on D&D 5e SRD data)\r\nexport const CLASS_SPELL_LISTS: Record<SpellClass, string[]> = {\r\n  artificer: [],\r\n  bard: [],\r\n  cleric: [],\r\n  druid: [],\r\n  paladin: [],\r\n  ranger: [],\r\n  sorcerer: [],\r\n  warlock: [],\r\n  wizard: [],\r\n  'eldritch knight': [],\r\n  'arcane trickster': [],\r\n};\r\n"],"names":[],"mappings":"AAAA,6DAA6D;;;;;;;AAyLtD,MAAM,gBAA6C;IACxD,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;IACH,GAAG;AACL;AAGO,MAAM,oBAAkD;IAC7D,WAAW,EAAE;IACb,MAAM,EAAE;IACR,QAAQ,EAAE;IACV,OAAO,EAAE;IACT,SAAS,EAAE;IACX,QAAQ,EAAE;IACV,UAAU,EAAE;IACZ,SAAS,EAAE;IACX,QAAQ,EAAE;IACV,mBAAmB,EAAE;IACrB,oBAAoB,EAAE;AACxB","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/utils/sourceUtils.ts"],"sourcesContent":["/**\r\n * Utilities for handling D&D source prioritization and display\r\n *\r\n * This handles the transition from D&D 5e (2014) to D&D 5e (2024) by:\r\n * - Prioritizing 2024 versions (XPHB) over 2014 versions (PHB)\r\n * - Converting XPHB source to \"PHB2024\" for display\r\n * - Providing consistent deduplication logic across content types\r\n */\r\n\r\n/**\r\n * Convert raw source to display source\r\n * XPHB (2024 Player's Handbook) -> PHB2024 for user-friendly display\r\n */\r\nexport function formatSourceForDisplay(rawSource: string): string {\r\n  return rawSource === 'XPHB' ? 'PHB2024' : rawSource;\r\n}\r\n\r\n/**\r\n * Check if a source should be prioritized over another\r\n * Priority order: PHB2024 (XPHB) > SRD > PHB > others\r\n */\r\nexport function shouldReplaceSource(\r\n  existingSource: string,\r\n  newSource: string,\r\n  existingIsSrd: boolean = false,\r\n  newIsSrd: boolean = false\r\n): boolean {\r\n  // Always prefer 2024 version\r\n  if (newSource === 'PHB2024') return true;\r\n\r\n  // Don't replace 2024 version with anything else\r\n  if (existingSource === 'PHB2024') return false;\r\n\r\n  // Prefer SRD if no 2024 version exists\r\n  if (!existingIsSrd && newIsSrd) return true;\r\n\r\n  // Don't replace SRD with non-SRD (unless it's 2024)\r\n  if (existingIsSrd && !newIsSrd) return false;\r\n\r\n  // Prefer PHB over other sources if no 2024/SRD exists\r\n  if (existingSource !== 'PHB' && !existingIsSrd && newSource === 'PHB')\r\n    return true;\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * Generic deduplication function for D&D content with source prioritization\r\n * Can be used for spells, classes, feats, monsters, etc.\r\n */\r\nexport function deduplicateBySourcePriority<\r\n  T extends {\r\n    name: string;\r\n    source: string;\r\n    isSrd?: boolean;\r\n  },\r\n>(\r\n  items: T[],\r\n  getKey: (item: T) => string = item => item.name.toLowerCase()\r\n): T[] {\r\n  const uniqueItems = new Map<string, T>();\r\n\r\n  for (const item of items) {\r\n    const key = getKey(item);\r\n    const existingItem = uniqueItems.get(key);\r\n\r\n    if (!existingItem) {\r\n      // No existing item, add this one\r\n      uniqueItems.set(key, item);\r\n    } else {\r\n      // Check if we should replace the existing item\r\n      const shouldReplace = shouldReplaceSource(\r\n        existingItem.source,\r\n        item.source,\r\n        existingItem.isSrd || false,\r\n        item.isSrd || false\r\n      );\r\n\r\n      if (shouldReplace) {\r\n        uniqueItems.set(key, item);\r\n      }\r\n    }\r\n  }\r\n\r\n  return Array.from(uniqueItems.values());\r\n}\r\n\r\n/**\r\n * Get the edition year from a source\r\n * Useful for displaying edition information to users\r\n */\r\nexport function getSourceEdition(source: string): string {\r\n  switch (source) {\r\n    case 'PHB2024':\r\n    case 'XPHB':\r\n      return '2024';\r\n    case 'PHB':\r\n      return '2014';\r\n    case 'SRD':\r\n      return 'SRD';\r\n    default:\r\n      return 'Other';\r\n  }\r\n}\r\n\r\n/**\r\n * Check if a source is from the 2024 edition\r\n */\r\nexport function is2024Source(source: string): boolean {\r\n  return source === 'XPHB' || source === 'PHB2024';\r\n}\r\n\r\n/**\r\n * Check if a source is from the 2014 edition\r\n */\r\nexport function is2014Source(source: string): boolean {\r\n  return source === 'PHB';\r\n}\r\n\r\n/**\r\n * Compare two sources for sorting priority\r\n * Returns negative if first should come before second, positive if after, 0 if equal priority\r\n * Priority: PHB2024 > SRD > PHB > others (alphabetical)\r\n */\r\nexport function compareSourcePriority(\r\n  sourceA: string,\r\n  sourceB: string\r\n): number {\r\n  // PHB2024 always comes first\r\n  if (sourceA === 'PHB2024' && sourceB !== 'PHB2024') return -1;\r\n  if (sourceB === 'PHB2024' && sourceA !== 'PHB2024') return 1;\r\n\r\n  // If both or neither are PHB2024, check SRD\r\n  if (sourceA === 'SRD' && sourceB !== 'SRD' && sourceB !== 'PHB2024')\r\n    return -1;\r\n  if (sourceB === 'SRD' && sourceA !== 'SRD' && sourceA !== 'PHB2024') return 1;\r\n\r\n  // If both or neither are SRD/PHB2024, check PHB\r\n  if (\r\n    sourceA === 'PHB' &&\r\n    sourceB !== 'PHB' &&\r\n    sourceB !== 'SRD' &&\r\n    sourceB !== 'PHB2024'\r\n  )\r\n    return -1;\r\n  if (\r\n    sourceB === 'PHB' &&\r\n    sourceA !== 'PHB' &&\r\n    sourceA !== 'SRD' &&\r\n    sourceA !== 'PHB2024'\r\n  )\r\n    return 1;\r\n\r\n  // Equal priority, sort alphabetically\r\n  return sourceA.localeCompare(sourceB);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC,GAED;;;CAGC;;;;;;;;;;;;;;;;AACM,SAAS,uBAAuB,SAAiB;IACtD,OAAO,cAAc,SAAS,YAAY;AAC5C;AAMO,SAAS,oBACd,cAAsB,EACtB,SAAiB,EACjB,gBAAyB,KAAK,EAC9B,WAAoB,KAAK;IAEzB,6BAA6B;IAC7B,IAAI,cAAc,WAAW,OAAO;IAEpC,gDAAgD;IAChD,IAAI,mBAAmB,WAAW,OAAO;IAEzC,uCAAuC;IACvC,IAAI,CAAC,iBAAiB,UAAU,OAAO;IAEvC,oDAAoD;IACpD,IAAI,iBAAiB,CAAC,UAAU,OAAO;IAEvC,sDAAsD;IACtD,IAAI,mBAAmB,SAAS,CAAC,iBAAiB,cAAc,OAC9D,OAAO;IAET,OAAO;AACT;AAMO,SAAS,4BAOd,KAAU,EACV,SAA8B,CAAA,OAAQ,KAAK,IAAI,CAAC,WAAW,EAAE;IAE7D,MAAM,cAAc,IAAI;IAExB,KAAK,MAAM,QAAQ,MAAO;QACxB,MAAM,MAAM,OAAO;QACnB,MAAM,eAAe,YAAY,GAAG,CAAC;QAErC,IAAI,CAAC,cAAc;YACjB,iCAAiC;YACjC,YAAY,GAAG,CAAC,KAAK;QACvB,OAAO;YACL,+CAA+C;YAC/C,MAAM,gBAAgB,oBACpB,aAAa,MAAM,EACnB,KAAK,MAAM,EACX,aAAa,KAAK,IAAI,OACtB,KAAK,KAAK,IAAI;YAGhB,IAAI,eAAe;gBACjB,YAAY,GAAG,CAAC,KAAK;YACvB;QACF;IACF;IAEA,OAAO,MAAM,IAAI,CAAC,YAAY,MAAM;AACtC;AAMO,SAAS,iBAAiB,MAAc;IAC7C,OAAQ;QACN,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAKO,SAAS,aAAa,MAAc;IACzC,OAAO,WAAW,UAAU,WAAW;AACzC;AAKO,SAAS,aAAa,MAAc;IACzC,OAAO,WAAW;AACpB;AAOO,SAAS,sBACd,OAAe,EACf,OAAe;IAEf,6BAA6B;IAC7B,IAAI,YAAY,aAAa,YAAY,WAAW,OAAO,CAAC;IAC5D,IAAI,YAAY,aAAa,YAAY,WAAW,OAAO;IAE3D,4CAA4C;IAC5C,IAAI,YAAY,SAAS,YAAY,SAAS,YAAY,WACxD,OAAO,CAAC;IACV,IAAI,YAAY,SAAS,YAAY,SAAS,YAAY,WAAW,OAAO;IAE5E,gDAAgD;IAChD,IACE,YAAY,SACZ,YAAY,SACZ,YAAY,SACZ,YAAY,WAEZ,OAAO,CAAC;IACV,IACE,YAAY,SACZ,YAAY,SACZ,YAAY,SACZ,YAAY,WAEZ,OAAO;IAET,sCAAsC;IACtC,OAAO,QAAQ,aAAa,CAAC;AAC/B","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/utils/spellDataLoader.ts"],"sourcesContent":["import { promises as fs } from 'fs';\r\nimport path from 'path';\r\nimport {\r\n  RawSpellData,\r\n  ProcessedSpell,\r\n  SpellClass,\r\n  SpellEntry,\r\n  SPELL_SCHOOLS,\r\n} from '@/types/spells';\r\nimport { formatSourceForDisplay } from './sourceUtils';\r\n\r\n// Cache for loaded spells to avoid reprocessing\r\nlet cachedSpells: ProcessedSpell[] | null = null;\r\n\r\n/**\r\n * Load all spell JSON files from the json/spells directory\r\n */\r\nasync function loadSpellFiles(): Promise<RawSpellData[]> {\r\n  const spellsDir = path.join(process.cwd(), 'json', 'spells');\r\n  const files = await fs.readdir(spellsDir);\r\n  const spellFiles = files.filter(file => file.endsWith('.json'));\r\n\r\n  const allSpells: RawSpellData[] = [];\r\n\r\n  for (const file of spellFiles) {\r\n    try {\r\n      const filePath = path.join(spellsDir, file);\r\n      const fileContent = await fs.readFile(filePath, 'utf-8');\r\n      const data = JSON.parse(fileContent);\r\n\r\n      if (data.spell && Array.isArray(data.spell)) {\r\n        allSpells.push(...data.spell);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error loading spell file ${file}:`, error);\r\n    }\r\n  }\r\n\r\n  return allSpells;\r\n}\r\n\r\n/**\r\n * Generate a unique ID for a spell based on name and source\r\n */\r\nfunction generateSpellId(name: string, source: string): string {\r\n  return `${name.toLowerCase().replace(/[^a-z0-9]/g, '-')}-${source.toLowerCase()}`;\r\n}\r\n\r\n/**\r\n * Convert casting time data to human-readable string\r\n */\r\nfunction formatCastingTime(time: RawSpellData['time']): string {\r\n  if (!time || time.length === 0) return 'Unknown';\r\n\r\n  const primary = time[0];\r\n  let result = `${primary.number} ${primary.unit}`;\r\n\r\n  if (primary.number !== 1) {\r\n    result += 's';\r\n  }\r\n\r\n  if (primary.condition) {\r\n    result += ` (${primary.condition})`;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Convert range data to human-readable string\r\n */\r\nfunction formatRange(range: RawSpellData['range']): string {\r\n  if (range.type === 'self') return 'Self';\r\n  if (range.type === 'touch') return 'Touch';\r\n  if (range.type === 'sight') return 'Sight';\r\n  if (range.type === 'unlimited') return 'Unlimited';\r\n\r\n  if (range.distance) {\r\n    if (range.distance.type === 'self') return 'Self';\r\n    if (range.distance.type === 'touch') return 'Touch';\r\n    if (range.distance.type === 'sight') return 'Sight';\r\n    if (range.distance.type === 'unlimited') return 'Unlimited';\r\n\r\n    if (range.distance.amount) {\r\n      return `${range.distance.amount} ${range.distance.type}`;\r\n    }\r\n  }\r\n\r\n  return 'Special';\r\n}\r\n\r\n/**\r\n * Convert duration data to human-readable string\r\n */\r\nfunction formatDuration(duration: RawSpellData['duration']): string {\r\n  if (!duration || duration.length === 0) return 'Unknown';\r\n\r\n  const primary = duration[0];\r\n\r\n  if (primary.type === 'instant') return 'Instantaneous';\r\n  if (primary.type === 'permanent') return 'Permanent';\r\n  if (primary.type === 'special') return 'Special';\r\n\r\n  if (primary.type === 'timed' && primary.duration) {\r\n    let result = `${primary.duration.amount || 1} ${primary.duration.type}`;\r\n    if ((primary.duration.amount || 1) !== 1) {\r\n      result += 's';\r\n    }\r\n    return result;\r\n  }\r\n\r\n  return 'Special';\r\n}\r\n\r\n/**\r\n * Check if a duration has concentration\r\n */\r\nfunction hasConcentration(duration: RawSpellData['duration']): boolean {\r\n  return duration.some(d => d.concentration === true);\r\n}\r\n\r\n/**\r\n * Get the classes that can cast a specific spell\r\n * This includes the 11 main spellcasting classes and their spell access\r\n */\r\nfunction getSpellClasses(spellName: string): SpellClass[] {\r\n  const name = spellName.toLowerCase();\r\n  const classes: SpellClass[] = [];\r\n\r\n  // ARTIFICER SPELLS (Tasha's Cauldron of Everything)\r\n  const artificerSpells = [\r\n    // Cantrips\r\n    'guidance',\r\n    'mage hand',\r\n    'mending',\r\n    'message',\r\n    'prestidigitation',\r\n    'spare the dying',\r\n    // 1st Level\r\n    'alarm',\r\n    'cure wounds',\r\n    'detect magic',\r\n    'detect poison and disease',\r\n    'disguise self',\r\n    'expeditious retreat',\r\n    'false life',\r\n    'feather fall',\r\n    'identify',\r\n    'jump',\r\n    'longstrider',\r\n    'purify food and drink',\r\n    'sanctuary',\r\n    'shield of faith',\r\n    // 2nd Level\r\n    'aid',\r\n    'arcane lock',\r\n    'blur',\r\n    'continual flame',\r\n    'darkvision',\r\n    'enhance ability',\r\n    'enlarge/reduce',\r\n    'heat metal',\r\n    'invisibility',\r\n    'lesser restoration',\r\n    'levitate',\r\n    'magic missile',\r\n    'magic weapon',\r\n    'protection from poison',\r\n    'resist elements',\r\n    'see invisibility',\r\n    'spider climb',\r\n    'web',\r\n    // 3rd Level\r\n    'blink',\r\n    'catnap',\r\n    'create food and water',\r\n    'dispel magic',\r\n    'elemental weapon',\r\n    'flame arrows',\r\n    'fly',\r\n    'gaseous form',\r\n    'glyph of warding',\r\n    'haste',\r\n    'protection from energy',\r\n    'revivify',\r\n    'tiny hut',\r\n    'water breathing',\r\n    'water walk',\r\n    // 4th Level\r\n    'arcane eye',\r\n    'death ward',\r\n    'fabricate',\r\n    'freedom of movement',\r\n    'greater invisibility',\r\n    \"otiluke's resilient sphere\",\r\n    \"mordenkainen's faithful hound\",\r\n    'stone shape',\r\n    'stoneskin',\r\n    // 5th Level\r\n    'animate objects',\r\n    'creation',\r\n    'greater restoration',\r\n    'wall of stone',\r\n  ];\r\n\r\n  // BARD SPELLS\r\n  const bardSpells = [\r\n    // Cantrips\r\n    'blade ward',\r\n    'dancing lights',\r\n    'friends',\r\n    'light',\r\n    'mage hand',\r\n    'mending',\r\n    'message',\r\n    'minor illusion',\r\n    'prestidigitation',\r\n    'thunderclap',\r\n    'true strike',\r\n    'vicious mockery',\r\n    // 1st Level\r\n    'animal friendship',\r\n    'bane',\r\n    'charm person',\r\n    'comprehend languages',\r\n    'cure wounds',\r\n    'detect magic',\r\n    'disguise self',\r\n    'dissonant whispers',\r\n    'earth tremor',\r\n    'faerie fire',\r\n    'feather fall',\r\n    'healing word',\r\n    'heroism',\r\n    'identify',\r\n    'illusory script',\r\n    'longstrider',\r\n    'silent image',\r\n    'sleep',\r\n    'speak with animals',\r\n    \"tasha's hideous laughter\",\r\n    'thunderwave',\r\n    'unseen servant',\r\n    // 2nd Level\r\n    'animal messenger',\r\n    'blindness/deafness',\r\n    'calm emotions',\r\n    'cloud of daggers',\r\n    'crown of madness',\r\n    'detect thoughts',\r\n    'enhance ability',\r\n    'enthrall',\r\n    'heat metal',\r\n    'hold person',\r\n    'invisibility',\r\n    'knock',\r\n    'lesser restoration',\r\n    'locate animals or plants',\r\n    'locate object',\r\n    'magic mouth',\r\n    'see invisibility',\r\n    'shatter',\r\n    'silence',\r\n    'suggestion',\r\n    'zone of truth',\r\n    // 3rd Level\r\n    'bestow curse',\r\n    'catnap',\r\n    'clairvoyance',\r\n    'counterspell',\r\n    'dispel magic',\r\n    'fear',\r\n    'feign death',\r\n    'glyph of warding',\r\n    'hypnotic pattern',\r\n    \"leomund's tiny hut\",\r\n    'major image',\r\n    'nondetection',\r\n    'plant growth',\r\n    'sending',\r\n    'speak with dead',\r\n    'speak with plants',\r\n    'stinking cloud',\r\n    'tongues',\r\n    // 4th Level\r\n    'charm monster',\r\n    'compulsion',\r\n    'confusion',\r\n    'dimension door',\r\n    'freedom of movement',\r\n    'greater invisibility',\r\n    'hallucinatory terrain',\r\n    'locate creature',\r\n    'polymorph',\r\n    // 5th Level\r\n    'animate objects',\r\n    'awaken',\r\n    'dominate person',\r\n    'dream',\r\n    'geas',\r\n    'greater restoration',\r\n    'hold monster',\r\n    'legend lore',\r\n    'mass cure wounds',\r\n    'mislead',\r\n    'modify memory',\r\n    'planar binding',\r\n    'raise dead',\r\n    'scrying',\r\n    'seeming',\r\n    'teleportation circle',\r\n    // 6th Level\r\n    'eyebite',\r\n    'find the path',\r\n    'guards and wards',\r\n    'mass suggestion',\r\n    \"otto's irresistible dance\",\r\n    'programmed illusion',\r\n    'true seeing',\r\n    // 7th Level\r\n    'etherealness',\r\n    'forcecage',\r\n    'mirage arcane',\r\n    \"mordenkainen's magnificent mansion\",\r\n    'plane shift',\r\n    'project image',\r\n    'regenerate',\r\n    'resurrection',\r\n    'reverse gravity',\r\n    'teleport',\r\n    // 8th Level\r\n    'dominate monster',\r\n    'feeblemind',\r\n    'glibness',\r\n    'mind blank',\r\n    'power word stun',\r\n    // 9th Level\r\n    'foresight',\r\n    'power word kill',\r\n    'true polymorph',\r\n  ];\r\n\r\n  // CLERIC SPELLS\r\n  const clericSpells = [\r\n    // Cantrips\r\n    'guidance',\r\n    'light',\r\n    'mending',\r\n    'resistance',\r\n    'sacred flame',\r\n    'spare the dying',\r\n    'thaumaturgy',\r\n    'toll the dead',\r\n    'word of radiance',\r\n    // 1st Level\r\n    'bane',\r\n    'bless',\r\n    'command',\r\n    'create or destroy water',\r\n    'cure wounds',\r\n    'detect evil and good',\r\n    'detect magic',\r\n    'detect poison and disease',\r\n    'guiding bolt',\r\n    'healing word',\r\n    'inflict wounds',\r\n    'protection from evil and good',\r\n    'purify food and drink',\r\n    'sanctuary',\r\n    'shield of faith',\r\n    // 2nd Level\r\n    'aid',\r\n    'augury',\r\n    'blindness/deafness',\r\n    'calm emotions',\r\n    'continual flame',\r\n    'enhance ability',\r\n    'find traps',\r\n    'gentle repose',\r\n    'hold person',\r\n    'lesser restoration',\r\n    'locate object',\r\n    'prayer of healing',\r\n    'protection from poison',\r\n    'silence',\r\n    'spiritual weapon',\r\n    'warding bond',\r\n    'zone of truth',\r\n    // 3rd Level\r\n    'animate dead',\r\n    'beacon of hope',\r\n    'bestow curse',\r\n    'clairvoyance',\r\n    'create food and water',\r\n    'daylight',\r\n    'dispel magic',\r\n    'feign death',\r\n    'fireball',\r\n    'glyph of warding',\r\n    'magic circle',\r\n    'mass healing word',\r\n    'meld into stone',\r\n    'protection from energy',\r\n    'remove curse',\r\n    'revivify',\r\n    'sending',\r\n    'speak with dead',\r\n    'spirit guardians',\r\n    'tongues',\r\n    'water walk',\r\n    // 4th Level\r\n    'banishment',\r\n    'control water',\r\n    'death ward',\r\n    'divination',\r\n    'freedom of movement',\r\n    'guardian of faith',\r\n    'locate creature',\r\n    'stone shape',\r\n    // 5th Level\r\n    'commune',\r\n    'contagion',\r\n    'dispel evil and good',\r\n    'flame strike',\r\n    'geas',\r\n    'greater restoration',\r\n    'hallow',\r\n    'heal',\r\n    'insect plague',\r\n    'legend lore',\r\n    'mass cure wounds',\r\n    'planar binding',\r\n    'raise dead',\r\n    'scrying',\r\n    // 6th Level\r\n    'find the path',\r\n    'forbiddance',\r\n    'harm',\r\n    'heal',\r\n    'planar ally',\r\n    'true seeing',\r\n    'word of recall',\r\n    // 7th Level\r\n    'divine word',\r\n    'etherealness',\r\n    'fire storm',\r\n    'plane shift',\r\n    'regenerate',\r\n    'resurrection',\r\n    // 8th Level\r\n    'antimagic field',\r\n    'control weather',\r\n    'earthquake',\r\n    'holy aura',\r\n    // 9th Level\r\n    'astral projection',\r\n    'gate',\r\n    'mass heal',\r\n    'true resurrection',\r\n  ];\r\n\r\n  // DRUID SPELLS\r\n  const druidSpells = [\r\n    // Cantrips\r\n    'control flames',\r\n    'create bonfire',\r\n    'druidcraft',\r\n    'frostbite',\r\n    'guidance',\r\n    'gust',\r\n    'infestation',\r\n    'magic stone',\r\n    'mending',\r\n    'mold earth',\r\n    'poison spray',\r\n    'produce flame',\r\n    'resistance',\r\n    'shape water',\r\n    'shillelagh',\r\n    'thorn whip',\r\n    'thunderclap',\r\n    // 1st Level\r\n    'absorb elements',\r\n    'animal friendship',\r\n    'beast bond',\r\n    'charm person',\r\n    'create or destroy water',\r\n    'cure wounds',\r\n    'detect magic',\r\n    'detect poison and disease',\r\n    'earth tremor',\r\n    'entangle',\r\n    'faerie fire',\r\n    'fog cloud',\r\n    'goodberry',\r\n    'healing word',\r\n    'ice knife',\r\n    'jump',\r\n    'longstrider',\r\n    'purify food and drink',\r\n    'speak with animals',\r\n    'thunderwave',\r\n    // 2nd Level\r\n    'animal messenger',\r\n    'barkskin',\r\n    'beast sense',\r\n    'darkvision',\r\n    'dust devil',\r\n    'earthbind',\r\n    'enhance ability',\r\n    'find traps',\r\n    'flame blade',\r\n    'flaming sphere',\r\n    'gust of wind',\r\n    'heat metal',\r\n    'hold person',\r\n    'lesser restoration',\r\n    'locate animals or plants',\r\n    'locate object',\r\n    'moonbeam',\r\n    'pass without trace',\r\n    'protection from poison',\r\n    'skywrite',\r\n    'spike growth',\r\n    'warding bond',\r\n    // 3rd Level\r\n    'call lightning',\r\n    'conjure animals',\r\n    'daylight',\r\n    'dispel magic',\r\n    'erupting earth',\r\n    'feign death',\r\n    'fireball',\r\n    'meld into stone',\r\n    'plant growth',\r\n    'protection from energy',\r\n    'sleet storm',\r\n    'speak with plants',\r\n    'tidal wave',\r\n    'wall of water',\r\n    'water breathing',\r\n    'water walk',\r\n    'wind wall',\r\n    // 4th Level\r\n    'blight',\r\n    'confusion',\r\n    'conjure minor elementals',\r\n    'conjure woodland beings',\r\n    'control water',\r\n    'dominate beast',\r\n    'elemental bane',\r\n    'freedom of movement',\r\n    'giant insect',\r\n    'grasping vine',\r\n    'hallucinatory terrain',\r\n    'ice storm',\r\n    'locate creature',\r\n    'polymorph',\r\n    'stone shape',\r\n    'stoneskin',\r\n    'wall of fire',\r\n    // 5th Level\r\n    'antilife shell',\r\n    'awaken',\r\n    'commune with nature',\r\n    'conjure elemental',\r\n    'contagion',\r\n    'control winds',\r\n    'geas',\r\n    'greater restoration',\r\n    'heal',\r\n    'insect plague',\r\n    'legend lore',\r\n    'mass cure wounds',\r\n    'planar binding',\r\n    'reincarnate',\r\n    'scrying',\r\n    'transmute rock',\r\n    'tree stride',\r\n    'wall of stone',\r\n    // 6th Level\r\n    'bones of the earth',\r\n    'conjure fey',\r\n    'find the path',\r\n    'heal',\r\n    \"heroes' feast\",\r\n    'move earth',\r\n    'primordial ward',\r\n    'sunbeam',\r\n    'transport via plants',\r\n    'wall of thorns',\r\n    'wind walk',\r\n    // 7th Level\r\n    'fire storm',\r\n    'mirage arcane',\r\n    'plane shift',\r\n    'regenerate',\r\n    'reverse gravity',\r\n    // 8th Level\r\n    'animal shapes',\r\n    'antipathy/sympathy',\r\n    'control weather',\r\n    'earthquake',\r\n    'feeblemind',\r\n    'sunburst',\r\n    'tsunami',\r\n    // 9th Level\r\n    'foresight',\r\n    'shapechange',\r\n    'storm of vengeance',\r\n    'true resurrection',\r\n  ];\r\n\r\n  // PALADIN SPELLS (2nd level and higher)\r\n  const paladinSpells = [\r\n    // 1st Level\r\n    'bless',\r\n    'command',\r\n    'compelled duel',\r\n    'cure wounds',\r\n    'detect evil and good',\r\n    'detect magic',\r\n    'detect poison and disease',\r\n    'divine favor',\r\n    'heroism',\r\n    'protection from evil and good',\r\n    'purify food and drink',\r\n    'sanctuary',\r\n    'searing smite',\r\n    'shield of faith',\r\n    'thunderous smite',\r\n    'wrathful smite',\r\n    // 2nd Level\r\n    'aid',\r\n    'branding smite',\r\n    'find steed',\r\n    'lesser restoration',\r\n    'locate object',\r\n    'magic weapon',\r\n    'protection from poison',\r\n    'zone of truth',\r\n    // 3rd Level\r\n    'aura of vitality',\r\n    'blinding smite',\r\n    'create food and water',\r\n    \"crusader's mantle\",\r\n    'daylight',\r\n    'dispel magic',\r\n    'elemental weapon',\r\n    'magic circle',\r\n    'remove curse',\r\n    'revivify',\r\n    // 4th Level\r\n    'aura of life',\r\n    'aura of purity',\r\n    'banishment',\r\n    'death ward',\r\n    'freedom of movement',\r\n    'locate creature',\r\n    'staggering smite',\r\n    // 5th Level\r\n    'banishing smite',\r\n    'circle of power',\r\n    'destructive wave',\r\n    'dispel evil and good',\r\n    'geas',\r\n    'greater restoration',\r\n    'raise dead',\r\n  ];\r\n\r\n  // RANGER SPELLS (2nd level and higher)\r\n  const rangerSpells = [\r\n    // 1st Level\r\n    'absorb elements',\r\n    'alarm',\r\n    'animal friendship',\r\n    'beast bond',\r\n    'cure wounds',\r\n    'detect magic',\r\n    'detect poison and disease',\r\n    'ensnaring strike',\r\n    'entangle',\r\n    'fog cloud',\r\n    'goodberry',\r\n    'hail of thorns',\r\n    \"hunter's mark\",\r\n    'jump',\r\n    'longstrider',\r\n    'speak with animals',\r\n    // 2nd Level\r\n    'animal messenger',\r\n    'barkskin',\r\n    'beast sense',\r\n    'cordon of arrows',\r\n    'darkvision',\r\n    'find traps',\r\n    'lesser restoration',\r\n    'locate animals or plants',\r\n    'locate object',\r\n    'pass without trace',\r\n    'protection from poison',\r\n    'silence',\r\n    'spike growth',\r\n    // 3rd Level\r\n    'conjure animals',\r\n    'conjure barrage',\r\n    'daylight',\r\n    'lightning arrow',\r\n    'nondetection',\r\n    'plant growth',\r\n    'protection from energy',\r\n    'speak with plants',\r\n    'water breathing',\r\n    'water walk',\r\n    'wind wall',\r\n    // 4th Level\r\n    'conjure woodland beings',\r\n    'freedom of movement',\r\n    'grasping vine',\r\n    'guardian of nature',\r\n    'locate creature',\r\n    'stoneskin',\r\n    // 5th Level\r\n    'commune with nature',\r\n    'conjure volley',\r\n    'greater restoration',\r\n    'steel wind strike',\r\n    'swift quiver',\r\n    'tree stride',\r\n  ];\r\n\r\n  // SORCERER SPELLS\r\n  const sorcererSpells = [\r\n    // Cantrips\r\n    'acid splash',\r\n    'blade ward',\r\n    'chill touch',\r\n    'control flames',\r\n    'create bonfire',\r\n    'dancing lights',\r\n    'fire bolt',\r\n    'frostbite',\r\n    'gust',\r\n    'infestation',\r\n    'light',\r\n    'mage hand',\r\n    'mending',\r\n    'message',\r\n    'minor illusion',\r\n    'mold earth',\r\n    'poison spray',\r\n    'prestidigitation',\r\n    'ray of frost',\r\n    'shape water',\r\n    'shocking grasp',\r\n    'thunderclap',\r\n    'true strike',\r\n    // 1st Level\r\n    'absorb elements',\r\n    'burning hands',\r\n    'charm person',\r\n    'chromatic orb',\r\n    'color spray',\r\n    'comprehend languages',\r\n    'detect magic',\r\n    'disguise self',\r\n    'earth tremor',\r\n    'expeditious retreat',\r\n    'false life',\r\n    'feather fall',\r\n    'fog cloud',\r\n    'ice knife',\r\n    'jump',\r\n    'mage armor',\r\n    'magic missile',\r\n    'ray of sickness',\r\n    'shield',\r\n    'silent image',\r\n    'sleep',\r\n    'thunderwave',\r\n    'witch bolt',\r\n    // 2nd Level\r\n    'alter self',\r\n    'blindness/deafness',\r\n    'blur',\r\n    'cloud of daggers',\r\n    'crown of madness',\r\n    'darkness',\r\n    'darkvision',\r\n    'detect thoughts',\r\n    'enhance ability',\r\n    'enlarge/reduce',\r\n    'gust of wind',\r\n    'hold person',\r\n    'invisibility',\r\n    'knock',\r\n    'levitate',\r\n    'magic weapon',\r\n    'mirror image',\r\n    'misty step',\r\n    'scorching ray',\r\n    'see invisibility',\r\n    'shatter',\r\n    'spider climb',\r\n    'suggestion',\r\n    'web',\r\n    // 3rd Level\r\n    'blink',\r\n    'clairvoyance',\r\n    'counterspell',\r\n    'daylight',\r\n    'dispel magic',\r\n    'erupting earth',\r\n    'fear',\r\n    'fireball',\r\n    'fly',\r\n    'gaseous form',\r\n    'haste',\r\n    'hypnotic pattern',\r\n    'lightning bolt',\r\n    'major image',\r\n    'protection from energy',\r\n    'sleet storm',\r\n    'slow',\r\n    'stinking cloud',\r\n    'tongues',\r\n    'tidal wave',\r\n    'vampiric touch',\r\n    'wall of water',\r\n    'water breathing',\r\n    'water walk',\r\n    // 4th Level\r\n    'banishment',\r\n    'blight',\r\n    'confusion',\r\n    'dimension door',\r\n    'dominate beast',\r\n    'greater invisibility',\r\n    'ice storm',\r\n    'polymorph',\r\n    'stoneskin',\r\n    'wall of fire',\r\n    // 5th Level\r\n    'animate objects',\r\n    'cloudkill',\r\n    'cone of cold',\r\n    'creation',\r\n    'dominate person',\r\n    'hold monster',\r\n    'insect plague',\r\n    'seeming',\r\n    'telekinesis',\r\n    'teleportation circle',\r\n    'wall of stone',\r\n    // 6th Level\r\n    'arcane gate',\r\n    'chain lightning',\r\n    'circle of death',\r\n    'disintegrate',\r\n    'eyebite',\r\n    'flesh to stone',\r\n    'globe of invulnerability',\r\n    'mass suggestion',\r\n    'move earth',\r\n    'sunbeam',\r\n    'true seeing',\r\n    // 7th Level\r\n    'delayed blast fireball',\r\n    'etherealness',\r\n    'finger of death',\r\n    'fire storm',\r\n    'plane shift',\r\n    'prismatic spray',\r\n    'reverse gravity',\r\n    'teleport',\r\n    // 8th Level\r\n    'dominate monster',\r\n    'earthquake',\r\n    'incendiary cloud',\r\n    'power word stun',\r\n    'sunburst',\r\n    // 9th Level\r\n    'gate',\r\n    'meteor swarm',\r\n    'power word kill',\r\n    'time stop',\r\n    'wish',\r\n  ];\r\n\r\n  // WARLOCK SPELLS\r\n  const warlockSpells = [\r\n    // Cantrips\r\n    'blade ward',\r\n    'chill touch',\r\n    'create bonfire',\r\n    'eldritch blast',\r\n    'friends',\r\n    'frostbite',\r\n    'infestation',\r\n    'mage hand',\r\n    'magic stone',\r\n    'minor illusion',\r\n    'poison spray',\r\n    'prestidigitation',\r\n    'toll the dead',\r\n    'true strike',\r\n    // 1st Level\r\n    'armor of agathys',\r\n    'arms of hadar',\r\n    'charm person',\r\n    'comprehend languages',\r\n    'expeditious retreat',\r\n    'hellish rebuke',\r\n    'hex',\r\n    'illusory script',\r\n    'protection from evil and good',\r\n    'unseen servant',\r\n    'witch bolt',\r\n    // 2nd Level\r\n    'blindness/deafness',\r\n    'cloud of daggers',\r\n    'crown of madness',\r\n    'darkness',\r\n    'enthrall',\r\n    'hold person',\r\n    'invisibility',\r\n    'mirror image',\r\n    'misty step',\r\n    'ray of enfeeblement',\r\n    'shatter',\r\n    'spider climb',\r\n    'suggestion',\r\n    // 3rd Level\r\n    'counterspell',\r\n    'dispel magic',\r\n    'fear',\r\n    'fireball',\r\n    'fly',\r\n    'gaseous form',\r\n    'hunger of hadar',\r\n    'hypnotic pattern',\r\n    'magic circle',\r\n    'major image',\r\n    'remove curse',\r\n    'spirit guardians',\r\n    'tongues',\r\n    'vampiric touch',\r\n    // 4th Level\r\n    'banishment',\r\n    'blight',\r\n    'charm monster',\r\n    'confusion',\r\n    'dimension door',\r\n    'hallucinatory terrain',\r\n    'polymorph',\r\n    // 5th Level\r\n    'contact other plane',\r\n    'dream',\r\n    'hold monster',\r\n    'modify memory',\r\n    'planar binding',\r\n    'scrying',\r\n    'synaptic static',\r\n    'teleportation circle',\r\n    // 6th Level\r\n    'arcane gate',\r\n    'circle of death',\r\n    'conjure fey',\r\n    'create undead',\r\n    'flesh to stone',\r\n    'mass suggestion',\r\n    'true seeing',\r\n    // 7th Level\r\n    'etherealness',\r\n    'finger of death',\r\n    'forcecage',\r\n    'plane shift',\r\n    // 8th Level\r\n    'demiplane',\r\n    'dominate monster',\r\n    'feeblemind',\r\n    'glibness',\r\n    'power word stun',\r\n    // 9th Level\r\n    'astral projection',\r\n    'foresight',\r\n    'imprisonment',\r\n    'power word kill',\r\n    'true polymorph',\r\n  ];\r\n\r\n  // WIZARD SPELLS\r\n  const wizardSpells = [\r\n    // Cantrips\r\n    'acid splash',\r\n    'blade ward',\r\n    'chill touch',\r\n    'control flames',\r\n    'create bonfire',\r\n    'dancing lights',\r\n    'encode thoughts',\r\n    'fire bolt',\r\n    'friends',\r\n    'frostbite',\r\n    'green-flame blade',\r\n    'gust',\r\n    'infestation',\r\n    'light',\r\n    'lightning lure',\r\n    'mage hand',\r\n    'mending',\r\n    'message',\r\n    'minor illusion',\r\n    'mold earth',\r\n    'poison spray',\r\n    'prestidigitation',\r\n    'ray of frost',\r\n    'shape water',\r\n    'shocking grasp',\r\n    'sword burst',\r\n    'thunderclap',\r\n    'toll the dead',\r\n    'true strike',\r\n    // 1st Level\r\n    'absorb elements',\r\n    'alarm',\r\n    'burning hands',\r\n    'catapult',\r\n    'cause fear',\r\n    'charm person',\r\n    'chromatic orb',\r\n    'color spray',\r\n    'comprehend languages',\r\n    'detect magic',\r\n    'disguise self',\r\n    'earth tremor',\r\n    'expeditious retreat',\r\n    'false life',\r\n    'feather fall',\r\n    'find familiar',\r\n    'fog cloud',\r\n    'grease',\r\n    'ice knife',\r\n    'identify',\r\n    'illusory script',\r\n    'jump',\r\n    'longstrider',\r\n    'mage armor',\r\n    'magic missile',\r\n    'protection from evil and good',\r\n    'ray of sickness',\r\n    'shield',\r\n    'silent image',\r\n    'silvery barbs',\r\n    'sleep',\r\n    \"tasha's hideous laughter\",\r\n    \"tenser's floating disk\",\r\n    'thunderwave',\r\n    'unseen servant',\r\n    'witch bolt',\r\n    // 2nd Level\r\n    \"aganazzar's scorcher\",\r\n    'alter self',\r\n    'arcane lock',\r\n    'blindness/deafness',\r\n    'blur',\r\n    'cloud of daggers',\r\n    'continual flame',\r\n    'crown of madness',\r\n    'darkness',\r\n    'darkvision',\r\n    'detect thoughts',\r\n    'enlarge/reduce',\r\n    'flaming sphere',\r\n    'gentle repose',\r\n    'gust of wind',\r\n    'hold person',\r\n    'invisibility',\r\n    'knock',\r\n    'levitate',\r\n    'locate object',\r\n    'magic mouth',\r\n    'magic weapon',\r\n    \"melf's acid arrow\",\r\n    'mirror image',\r\n    'misty step',\r\n    'rope trick',\r\n    'scorching ray',\r\n    'see invisibility',\r\n    'shatter',\r\n    'spider climb',\r\n    'suggestion',\r\n    'web',\r\n    // 3rd Level\r\n    'animate dead',\r\n    'bestow curse',\r\n    'blink',\r\n    'catnap',\r\n    'clairvoyance',\r\n    'counterspell',\r\n    'dispel magic',\r\n    'erupting earth',\r\n    'fear',\r\n    'feign death',\r\n    'fireball',\r\n    'fly',\r\n    'gaseous form',\r\n    'glyph of warding',\r\n    'haste',\r\n    'hypnotic pattern',\r\n    \"leomund's tiny hut\",\r\n    'lightning bolt',\r\n    'magic circle',\r\n    'major image',\r\n    'nondetection',\r\n    'phantom steed',\r\n    'protection from energy',\r\n    'remove curse',\r\n    'sending',\r\n    'sleet storm',\r\n    'slow',\r\n    'stinking cloud',\r\n    'tongues',\r\n    'vampiric touch',\r\n    'wall of water',\r\n    'water breathing',\r\n    // 4th Level\r\n    'arcane eye',\r\n    'banishment',\r\n    'blight',\r\n    'charm monster',\r\n    'confusion',\r\n    'conjure minor elementals',\r\n    'control water',\r\n    'dimension door',\r\n    \"evard's black tentacles\",\r\n    'fabricate',\r\n    'fire shield',\r\n    'greater invisibility',\r\n    'hallucinatory terrain',\r\n    'ice storm',\r\n    'locate creature',\r\n    \"otiluke's resilient sphere\",\r\n    'phantasmal killer',\r\n    'polymorph',\r\n    'private sanctum',\r\n    'stone shape',\r\n    'stoneskin',\r\n    'wall of fire',\r\n    // 5th Level\r\n    'animate objects',\r\n    \"bigby's hand\",\r\n    'cloudkill',\r\n    'cone of cold',\r\n    'conjure elemental',\r\n    'contact other plane',\r\n    'creation',\r\n    'dominate person',\r\n    'dream',\r\n    'geas',\r\n    'hold monster',\r\n    'legend lore',\r\n    'mislead',\r\n    'modify memory',\r\n    'passwall',\r\n    'planar binding',\r\n    'scrying',\r\n    'seeming',\r\n    'synaptic static',\r\n    'telekinesis',\r\n    'telepathic bond',\r\n    'teleportation circle',\r\n    'transmute rock',\r\n    'wall of force',\r\n    'wall of stone',\r\n    // 6th Level\r\n    'arcane gate',\r\n    'chain lightning',\r\n    'circle of death',\r\n    'contingency',\r\n    'create undead',\r\n    'disintegrate',\r\n    'eyebite',\r\n    'flesh to stone',\r\n    'globe of invulnerability',\r\n    'guards and wards',\r\n    'magic jar',\r\n    'mass suggestion',\r\n    'move earth',\r\n    \"otho's irresistible dance\",\r\n    'programmed illusion',\r\n    'sunbeam',\r\n    'true seeing',\r\n    'wall of ice',\r\n    // 7th Level\r\n    'delayed blast fireball',\r\n    'etherealness',\r\n    'finger of death',\r\n    'forcecage',\r\n    'mirage arcane',\r\n    \"mordenkainen's magnificent mansion\",\r\n    'plane shift',\r\n    'prismatic spray',\r\n    'project image',\r\n    'reverse gravity',\r\n    'sequester',\r\n    'simulacrum',\r\n    'symbol',\r\n    'teleport',\r\n    // 8th Level\r\n    'antimagic field',\r\n    'antipathy/sympathy',\r\n    'clone',\r\n    'control weather',\r\n    'demiplane',\r\n    'dominate monster',\r\n    'feeblemind',\r\n    'incendiary cloud',\r\n    'maze',\r\n    'mind blank',\r\n    'power word stun',\r\n    'sunburst',\r\n    // 9th Level\r\n    'astral projection',\r\n    'foresight',\r\n    'gate',\r\n    'imprisonment',\r\n    'meteor swarm',\r\n    'power word kill',\r\n    'prismatic wall',\r\n    'shapechange',\r\n    'time stop',\r\n    'true polymorph',\r\n    'wish',\r\n  ];\r\n\r\n  // Check each class list for the spell\r\n  if (artificerSpells.includes(name)) classes.push('artificer');\r\n  if (bardSpells.includes(name)) classes.push('bard');\r\n  if (clericSpells.includes(name)) classes.push('cleric');\r\n  if (druidSpells.includes(name)) classes.push('druid');\r\n  if (paladinSpells.includes(name)) classes.push('paladin');\r\n  if (rangerSpells.includes(name)) classes.push('ranger');\r\n  if (sorcererSpells.includes(name)) classes.push('sorcerer');\r\n  if (warlockSpells.includes(name)) classes.push('warlock');\r\n  if (wizardSpells.includes(name)) classes.push('wizard');\r\n\r\n  // ELDRITCH KNIGHT SPELLS (Fighter subclass)\r\n  // Limited wizard spells - primarily abjuration and evocation, plus some exceptions\r\n  const eldritchKnightSpells = [\r\n    // Cantrips (any wizard cantrip)\r\n    'acid splash',\r\n    'blade ward',\r\n    'booming blade',\r\n    'chill touch',\r\n    'control flames',\r\n    'create bonfire',\r\n    'dancing lights',\r\n    'fire bolt',\r\n    'friends',\r\n    'frostbite',\r\n    'green-flame blade',\r\n    'gust',\r\n    'light',\r\n    'lightning lure',\r\n    'mage hand',\r\n    'mending',\r\n    'message',\r\n    'minor illusion',\r\n    'poison spray',\r\n    'prestidigitation',\r\n    'ray of frost',\r\n    'shocking grasp',\r\n    'sword burst',\r\n    'thunderclap',\r\n    'true strike',\r\n    // 1st Level (abjuration/evocation + exceptions)\r\n    'absorb elements',\r\n    'alarm',\r\n    'burning hands',\r\n    'chromatic orb',\r\n    'expeditious retreat',\r\n    'false life',\r\n    'find familiar',\r\n    'fog cloud',\r\n    'jump',\r\n    'longstrider',\r\n    'mage armor',\r\n    'magic missile',\r\n    'protection from evil and good',\r\n    'shield',\r\n    'thunderwave',\r\n    // 2nd Level (abjuration/evocation + exceptions)\r\n    \"aganazzar's scorcher\",\r\n    'arcane lock',\r\n    'blur',\r\n    'continual flame',\r\n    'darkness',\r\n    'darkvision',\r\n    'enlarge/reduce',\r\n    'flaming sphere',\r\n    'gust of wind',\r\n    'invisibility',\r\n    'levitate',\r\n    'magic weapon',\r\n    'misty step',\r\n    'scorching ray',\r\n    'see invisibility',\r\n    'shatter',\r\n    'spider climb',\r\n    'web',\r\n    // 3rd Level (abjuration/evocation + exceptions)\r\n    'counterspell',\r\n    'daylight',\r\n    'dispel magic',\r\n    'fear',\r\n    'fireball',\r\n    'fly',\r\n    'gaseous form',\r\n    'haste',\r\n    'lightning bolt',\r\n    'magic circle',\r\n    'nondetection',\r\n    'protection from energy',\r\n    'sleet storm',\r\n    'slow',\r\n    'stinking cloud',\r\n    'tongues',\r\n    'vampiric touch',\r\n    'wall of water',\r\n    'water breathing',\r\n    // 4th Level (abjuration/evocation + exceptions)\r\n    'arcane eye',\r\n    'banishment',\r\n    'confusion',\r\n    'dimension door',\r\n    \"evard's black tentacles\",\r\n    'fire shield',\r\n    'greater invisibility',\r\n    'ice storm',\r\n    'locate creature',\r\n    \"otiluke's resilient sphere\",\r\n    'stoneskin',\r\n    'wall of fire',\r\n  ];\r\n\r\n  // ARCANE TRICKSTER SPELLS (Rogue subclass)\r\n  // Limited wizard spells - primarily illusion and enchantment, plus some exceptions\r\n  const arcaneTricksterSpells = [\r\n    // Cantrips (any wizard cantrip)\r\n    'acid splash',\r\n    'blade ward',\r\n    'booming blade',\r\n    'chill touch',\r\n    'control flames',\r\n    'create bonfire',\r\n    'dancing lights',\r\n    'encode thoughts',\r\n    'fire bolt',\r\n    'friends',\r\n    'frostbite',\r\n    'green-flame blade',\r\n    'gust',\r\n    'infestation',\r\n    'light',\r\n    'lightning lure',\r\n    'mage hand',\r\n    'mending',\r\n    'message',\r\n    'minor illusion',\r\n    'mold earth',\r\n    'poison spray',\r\n    'prestidigitation',\r\n    'ray of frost',\r\n    'shape water',\r\n    'shocking grasp',\r\n    'sword burst',\r\n    'thunderclap',\r\n    'toll the dead',\r\n    'true strike',\r\n    // 1st Level (illusion/enchantment + exceptions)\r\n    'charm person',\r\n    'color spray',\r\n    'comprehend languages',\r\n    'detect magic',\r\n    'disguise self',\r\n    'expeditious retreat',\r\n    'false life',\r\n    'feather fall',\r\n    'find familiar',\r\n    'fog cloud',\r\n    'illusory script',\r\n    'jump',\r\n    'longstrider',\r\n    'silent image',\r\n    'silvery barbs',\r\n    'sleep',\r\n    \"tasha's hideous laughter\",\r\n    'unseen servant',\r\n    // 2nd Level (illusion/enchantment + exceptions)\r\n    'blindness/deafness',\r\n    'blur',\r\n    'cloud of daggers',\r\n    'crown of madness',\r\n    'darkness',\r\n    'detect thoughts',\r\n    'hold person',\r\n    'invisibility',\r\n    'knock',\r\n    'levitate',\r\n    'magic mouth',\r\n    'mirror image',\r\n    'misty step',\r\n    'rope trick',\r\n    'see invisibility',\r\n    'spider climb',\r\n    'suggestion',\r\n    'web',\r\n    // 3rd Level (illusion/enchantment + exceptions)\r\n    'catnap',\r\n    'clairvoyance',\r\n    'counterspell',\r\n    'fear',\r\n    'fly',\r\n    'gaseous form',\r\n    'hypnotic pattern',\r\n    'major image',\r\n    'nondetection',\r\n    'sending',\r\n    'slow',\r\n    'tongues',\r\n    // 4th Level (illusion/enchantment + exceptions)\r\n    'charm monster',\r\n    'confusion',\r\n    'dimension door',\r\n    'greater invisibility',\r\n    'hallucinatory terrain',\r\n    'locate creature',\r\n    'phantasmal killer',\r\n    'polymorph',\r\n  ];\r\n\r\n  // Check subclass spell lists\r\n  if (eldritchKnightSpells.includes(name)) classes.push('eldritch knight');\r\n  if (arcaneTricksterSpells.includes(name)) classes.push('arcane trickster');\r\n\r\n  return classes;\r\n}\r\n\r\n/**\r\n * Parse spell entries that can contain both strings and complex objects\r\n */\r\nfunction parseSpellEntries(entries: (string | SpellEntry)[]): string {\r\n  return entries\r\n    .map(entry => {\r\n      if (typeof entry === 'string') {\r\n        return entry;\r\n      }\r\n\r\n      // Handle object entries\r\n      if (entry.type === 'list' && entry.items) {\r\n        // Handle list items - they can be either objects or strings\r\n        return entry.items\r\n          .map(item => {\r\n            // Handle string items in a list\r\n            if (typeof item === 'string') {\r\n              return item;\r\n            }\r\n            // Handle object items with type 'item'\r\n            if (item.type === 'item' && item.name && item.entries) {\r\n              return `**${item.name}.** ${item.entries.join(' ')}`;\r\n            }\r\n            return '';\r\n          })\r\n          .filter(Boolean)\r\n          .join('\\n\\n');\r\n      }\r\n\r\n      if (entry.type === 'entries' && entry.entries) {\r\n        // Handle nested entries - recursively parse them\r\n        let result = '';\r\n        if (entry.name) {\r\n          result += `**${entry.name}**\\n\\n`;\r\n        }\r\n        // Recursively parse the nested entries instead of just joining\r\n        result += parseSpellEntries(entry.entries);\r\n        return result;\r\n      }\r\n\r\n      // Handle table entries\r\n      if (entry.type === 'table') {\r\n        let tableResult = '';\r\n        if (entry.caption) {\r\n          tableResult += `**${entry.caption}**\\n\\n`;\r\n        }\r\n        // For tables, we'll provide a simple text representation\r\n        // The actual table rendering would need to be done in the UI\r\n        tableResult += '_(See table in source material)_';\r\n        return tableResult;\r\n      }\r\n\r\n      // For any other object types, try to extract meaningful text\r\n      if (entry.entries) {\r\n        // Recursively parse nested entries\r\n        return parseSpellEntries(entry.entries);\r\n      }\r\n\r\n      // Fallback for unknown object types\r\n      return '';\r\n    })\r\n    .filter(Boolean)\r\n    .join('\\n\\n');\r\n}\r\n\r\n/**\r\n * Process raw spell data into our application format\r\n */\r\nfunction processSpell(rawSpell: RawSpellData): ProcessedSpell {\r\n  const id = generateSpellId(rawSpell.name, rawSpell.source);\r\n\r\n  // Process description using the new parser\r\n  const description = parseSpellEntries(rawSpell.entries);\r\n\r\n  // Process higher level description\r\n  let higherLevelDescription: string | undefined;\r\n  if (rawSpell.entriesHigherLevel && rawSpell.entriesHigherLevel.length > 0) {\r\n    higherLevelDescription = rawSpell.entriesHigherLevel\r\n      .map(entry => entry.entries.join('\\n'))\r\n      .join('\\n\\n');\r\n  }\r\n\r\n  // Process components\r\n  const components = {\r\n    verbal: rawSpell.components.v || false,\r\n    somatic: rawSpell.components.s || false,\r\n    material: !!rawSpell.components.m,\r\n    materialComponent:\r\n      typeof rawSpell.components.m === 'string'\r\n        ? rawSpell.components.m\r\n        : undefined,\r\n  };\r\n\r\n  return {\r\n    id,\r\n    name: rawSpell.name,\r\n    level: rawSpell.level,\r\n    school: rawSpell.school,\r\n    schoolName: SPELL_SCHOOLS[rawSpell.school] || 'Unknown',\r\n    source: formatSourceForDisplay(rawSpell.source),\r\n    page: rawSpell.page,\r\n    isRitual: rawSpell.meta?.ritual || false,\r\n    concentration: hasConcentration(rawSpell.duration),\r\n    castingTime: formatCastingTime(rawSpell.time),\r\n    range: formatRange(rawSpell.range),\r\n    components,\r\n    duration: formatDuration(rawSpell.duration),\r\n    description,\r\n    higherLevelDescription,\r\n    classes: getSpellClasses(rawSpell.name),\r\n    tags: [\r\n      ...(rawSpell.miscTags || []),\r\n      ...(rawSpell.areaTags || []),\r\n      ...(rawSpell.damageInflict || []),\r\n      rawSpell.school,\r\n      formatSourceForDisplay(rawSpell.source),\r\n    ],\r\n    damage: rawSpell.damageInflict,\r\n    saves: rawSpell.savingThrow,\r\n    isCantrip: rawSpell.level === 0,\r\n    isSrd: rawSpell.srd || false,\r\n  };\r\n}\r\n\r\n/**\r\n * Load and process all spells from JSON files\r\n */\r\nexport async function loadAllSpells(): Promise<ProcessedSpell[]> {\r\n  // Return cached spells if available\r\n  if (cachedSpells) {\r\n    return cachedSpells;\r\n  }\r\n\r\n  try {\r\n    const rawSpells = await loadSpellFiles();\r\n    const processedSpells = rawSpells.map(processSpell);\r\n\r\n    cachedSpells = processedSpells;\r\n\r\n    console.log(\r\n      `Loaded ${cachedSpells.length} processed spells from ${rawSpells.length} total spell entries`\r\n    );\r\n\r\n    return cachedSpells;\r\n  } catch (error) {\r\n    console.error('Error loading spells:', error);\r\n    return [];\r\n  }\r\n}\r\n"],"names":[],"mappings":"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QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;KACD;IAED,cAAc;IACd,MAAM,aAAa;QACjB,WAAW;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;KACD;IAED,gBAAgB;IAChB,MAAM,eAAe;QACnB,WAAW;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;KACD;IAED,eAAe;IACf,MAAM,cAAc;QAClB,WAAW;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;KACD;IAED,wCAAwC;IACxC,MAAM,gBAAgB;QACpB,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,uCAAuC;IACvC,MAAM,eAAe;QACnB,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;KACD;IAED,kBAAkB;IAClB,MAAM,iBAAiB;QACrB,WAAW;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;KACD;IAED,iBAAiB;IACjB,MAAM,gBAAgB;QACpB,WAAW;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;KACD;IAED,gBAAgB;IAChB,MAAM,eAAe;QACnB,WAAW;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,sCAAsC;IACtC,IAAI,gBAAgB,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IACjD,IAAI,WAAW,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IAC5C,IAAI,aAAa,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IAC9C,IAAI,YAAY,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IAC7C,IAAI,cAAc,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IAC/C,IAAI,aAAa,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IAC9C,IAAI,eAAe,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IAChD,IAAI,cAAc,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IAC/C,IAAI,aAAa,QAAQ,CAAC,OAAO,QAAQ,IAAI,CAAC;IAE9C,4CAA4C;IAC5C,mFAAmF;IACnF,MAAM,uBAAuB;QAC3B,gCAAgC;QAChC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gDAAgD;QAChD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gDAAgD;QAChD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gDAAgD;QAChD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gDAAgD;QAChD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,2CAA2C;IAC3C,mFAAmF;IACnF,MAAM,wBAAwB;QAC5B,gCAAgC;QAChC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gDAAgD;QAChD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gDAAgD;QAChD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QA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","debugId":null}},
    {"offset": {"line": 1723, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/app/api/spells/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport { loadAllSpells } from '@/utils/spellDataLoader';\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const { searchParams } = new URL(request.url);\r\n    const limit = searchParams.get('limit');\r\n    const offset = searchParams.get('offset');\r\n\r\n    // Load all spell data\r\n    const spells = await loadAllSpells();\r\n\r\n    // Apply pagination if requested\r\n    if (limit && offset) {\r\n      const limitNum = parseInt(limit, 10);\r\n      const offsetNum = parseInt(offset, 10);\r\n      const paginatedSpells = spells.slice(offsetNum, offsetNum + limitNum);\r\n\r\n      return NextResponse.json({\r\n        spells: paginatedSpells,\r\n        total: spells.length,\r\n        hasMore: offsetNum + limitNum < spells.length,\r\n      });\r\n    }\r\n\r\n    // Return all spells\r\n    return NextResponse.json({\r\n      spells,\r\n      total: spells.length,\r\n      hasMore: false,\r\n    });\r\n  } catch (error) {\r\n    console.error('Error loading spells:', error);\r\n    return NextResponse.json(\r\n      { error: 'Failed to load spell data' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,QAAQ,aAAa,GAAG,CAAC;QAC/B,MAAM,SAAS,aAAa,GAAG,CAAC;QAEhC,sBAAsB;QACtB,MAAM,SAAS,MAAM,IAAA,iKAAa;QAElC,gCAAgC;QAChC,IAAI,SAAS,QAAQ;YACnB,MAAM,WAAW,SAAS,OAAO;YACjC,MAAM,YAAY,SAAS,QAAQ;YACnC,MAAM,kBAAkB,OAAO,KAAK,CAAC,WAAW,YAAY;YAE5D,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,QAAQ;gBACR,OAAO,OAAO,MAAM;gBACpB,SAAS,YAAY,WAAW,OAAO,MAAM;YAC/C;QACF;QAEA,oBAAoB;QACpB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB;YACA,OAAO,OAAO,MAAM;YACpB,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA4B,GACrC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}