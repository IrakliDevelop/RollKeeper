{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/Modal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  children: React.ReactNode;\r\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\r\n  showCloseButton?: boolean;\r\n  closeOnBackdropClick?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst sizeClasses = {\r\n  sm: 'max-w-md',\r\n  md: 'max-w-2xl',\r\n  lg: 'max-w-4xl',\r\n  xl: 'max-w-6xl',\r\n  full: 'max-w-[95vw]',\r\n};\r\n\r\nexport function Modal({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  size = 'lg',\r\n  showCloseButton = true,\r\n  closeOnBackdropClick = true,\r\n  className = '',\r\n}: ModalProps) {\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n  const [mounted, setMounted] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    return () => setMounted(false);\r\n  }, []);\r\n\r\n  // Handle escape key press\r\n  useEffect(() => {\r\n    const handleEscape = (event: KeyboardEvent) => {\r\n      if (event.key === 'Escape' && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('keydown', handleEscape);\r\n      // Prevent body scroll when modal is open\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  // Handle backdrop click\r\n  const handleBackdropClick = (event: React.MouseEvent<HTMLDivElement>) => {\r\n    if (closeOnBackdropClick && event.target === event.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  // Don't render if not open or not mounted\r\n  if (!isOpen || !mounted) return null;\r\n\r\n  return createPortal(\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      {/* Backdrop with blur effect */}\r\n      <div\r\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300\"\r\n        onClick={handleBackdropClick}\r\n        aria-hidden=\"true\"\r\n      />\r\n\r\n      {/* Modal container */}\r\n      <div className=\"flex min-h-full items-center justify-center p-4\">\r\n        <div\r\n          ref={modalRef}\r\n          className={`relative w-full ${sizeClasses[size]} max-h-[90vh] flex flex-col transform rounded-xl bg-white shadow-2xl transition-all duration-300 ${className} `}\r\n          onClick={e => e.stopPropagation()}\r\n        >\r\n          {/* Header */}\r\n          {(title || showCloseButton) && (\r\n            <div className=\"flex items-center justify-between border-b border-gray-200 p-6 flex-shrink-0\">\r\n              {title && (\r\n                <h2 className=\"text-xl font-semibold text-gray-900\">{title}</h2>\r\n              )}\r\n              {showCloseButton && (\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"rounded-lg p-2 transition-colors hover:bg-gray-100\"\r\n                  aria-label=\"Close modal\"\r\n                >\r\n                  <X size={20} className=\"text-gray-500\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Content - Scrollable area with default padding */}\r\n          <div className=\"flex-1 overflow-y-auto min-h-0 p-6\">{children}</div>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n\r\n// Specialized modal variants for common use cases\r\nexport function ConfirmationModal({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title = 'Confirm Action',\r\n  message,\r\n  confirmText = 'Confirm',\r\n  cancelText = 'Cancel',\r\n  variant = 'default',\r\n}: {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  title?: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  variant?: 'default' | 'danger';\r\n}) {\r\n  const buttonClasses =\r\n    variant === 'danger'\r\n      ? 'bg-red-600 hover:bg-red-700 text-white'\r\n      : 'bg-blue-600 hover:bg-blue-700 text-white';\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} title={title} size=\"sm\">\r\n      <div className=\"p-6\">\r\n        <p className=\"mb-6 text-gray-700\">{message}</p>\r\n        <div className=\"flex justify-end gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"rounded-lg bg-gray-100 px-4 py-2 text-gray-700 transition-colors hover:bg-gray-200\"\r\n          >\r\n            {cancelText}\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              onConfirm();\r\n              onClose();\r\n            }}\r\n            className={`rounded-lg px-4 py-2 transition-colors ${buttonClasses}`}\r\n          >\r\n            {confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n\r\n// Loading modal for async operations\r\nexport function LoadingModal({\r\n  isOpen,\r\n  title = 'Loading...',\r\n  message = 'Please wait while we process your request.',\r\n}: {\r\n  isOpen: boolean;\r\n  title?: string;\r\n  message?: string;\r\n}) {\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={() => {}}\r\n      title={title}\r\n      size=\"sm\"\r\n      showCloseButton={false}\r\n      closeOnBackdropClick={false}\r\n    >\r\n      <div className=\"p-6 text-center\">\r\n        <div className=\"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-b-2 border-blue-600\"></div>\r\n        <p className=\"text-gray-700\">{message}</p>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/ModalPortal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\ninterface ModalPortalProps {\r\n  children: React.ReactNode;\r\n  isOpen: boolean;\r\n}\r\n\r\nexport const ModalPortal: React.FC<ModalPortalProps> = ({\r\n  children,\r\n  isOpen,\r\n}) => {\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    return () => setMounted(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      // Prevent body scroll when modal is open\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      // Restore body scroll when modal is closed\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  if (!mounted || !isOpen) {\r\n    return null;\r\n  }\r\n\r\n  return createPortal(children, document.body);\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAUO,MAAM,cAA0C;QAAC,EACtD,QAAQ,EACR,MAAM,EACP;;IACC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;iCAAC;YACR,WAAW;YACX;yCAAO,IAAM,WAAW;;QAC1B;gCAAG,EAAE;IAEL,IAAA,0KAAS;iCAAC;YACR,IAAI,QAAQ;gBACV,yCAAyC;gBACzC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC,OAAO;gBACL,2CAA2C;gBAC3C,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC;YAEA,qBAAqB;YACrB;yCAAO;oBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBACjC;;QACF;gCAAG;QAAC;KAAO;IAEX,IAAI,CAAC,WAAW,CAAC,QAAQ;QACvB,OAAO;IACT;IAEA,qBAAO,IAAA,oLAAY,EAAC,UAAU,SAAS,IAAI;AAC7C;GA/Ba;KAAA","debugId":null}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/ConfirmationModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { AlertTriangle, X } from 'lucide-react';\r\nimport { ModalPortal } from './ModalPortal';\r\n\r\ninterface ConfirmationModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  title: string;\r\n  message: string;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n  type?: 'danger' | 'warning' | 'info';\r\n}\r\n\r\nexport const ConfirmationModal: React.FC<ConfirmationModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title,\r\n  message,\r\n  confirmText = 'Confirm',\r\n  cancelText = 'Cancel',\r\n  type = 'danger',\r\n}) => {\r\n  const handleConfirm = () => {\r\n    onConfirm();\r\n    onClose();\r\n  };\r\n\r\n  const getTypeStyles = () => {\r\n    switch (type) {\r\n      case 'danger':\r\n        return {\r\n          icon: 'text-red-600',\r\n          iconBg: 'bg-red-100',\r\n          confirmBtn:\r\n            'bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800',\r\n          border: 'border-red-200',\r\n        };\r\n      case 'warning':\r\n        return {\r\n          icon: 'text-amber-600',\r\n          iconBg: 'bg-amber-100',\r\n          confirmBtn:\r\n            'bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800',\r\n          border: 'border-amber-200',\r\n        };\r\n      case 'info':\r\n        return {\r\n          icon: 'text-blue-600',\r\n          iconBg: 'bg-blue-100',\r\n          confirmBtn:\r\n            'bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800',\r\n          border: 'border-blue-200',\r\n        };\r\n    }\r\n  };\r\n\r\n  const styles = getTypeStyles();\r\n\r\n  return (\r\n    <ModalPortal isOpen={isOpen}>\r\n      <div\r\n        className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm\"\r\n        onClick={e => e.target === e.currentTarget && onClose()}\r\n        style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          margin: 0,\r\n        }}\r\n      >\r\n        <div\r\n          className={`w-full max-w-md rounded-xl border-2 bg-white shadow-2xl ${styles.border} animate-in zoom-in-95 transform duration-200`}\r\n        >\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between border-b border-gray-200 p-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className={`rounded-lg p-2 ${styles.iconBg}`}>\r\n                <AlertTriangle size={20} className={styles.icon} />\r\n              </div>\r\n              <h3 className=\"text-lg font-bold text-gray-800\">{title}</h3>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-1 text-gray-400 transition-colors hover:text-gray-600\"\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"p-6\">\r\n            <p className=\"leading-relaxed text-gray-700\">{message}</p>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex gap-3 p-6 pt-0\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"flex-1 rounded-lg border border-gray-300 bg-gradient-to-r from-gray-100 to-gray-200 px-4 py-2 text-sm font-medium text-gray-800 shadow-sm transition-all duration-200 hover:from-gray-200 hover:to-gray-300 hover:shadow-md\"\r\n            >\r\n              {cancelText}\r\n            </button>\r\n            <button\r\n              onClick={handleConfirm}\r\n              className={`flex-1 px-4 py-2 text-sm font-medium ${styles.confirmBtn} rounded-lg text-white shadow-md transition-all duration-200 hover:shadow-lg`}\r\n            >\r\n              {confirmText}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ModalPortal>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAJA;;;;AAiBO,MAAM,oBAAsD;QAAC,EAClE,MAAM,EACN,OAAO,EACP,SAAS,EACT,KAAK,EACL,OAAO,EACP,cAAc,SAAS,EACvB,aAAa,QAAQ,EACrB,OAAO,QAAQ,EAChB;IACC,MAAM,gBAAgB;QACpB;QACA;IACF;IAEA,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,QAAQ;oBACR,YACE;oBACF,QAAQ;gBACV;YACF,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,QAAQ;oBACR,YACE;oBACF,QAAQ;gBACV;YACF,KAAK;gBACH,OAAO;oBACL,MAAM;oBACN,QAAQ;oBACR,YACE;oBACF,QAAQ;gBACV;QACJ;IACF;IAEA,MAAM,SAAS;IAEf,qBACE,6LAAC,oLAAW;QAAC,QAAQ;kBACnB,cAAA,6LAAC;YACC,WAAU;YACV,SAAS,CAAA,IAAK,EAAE,MAAM,KAAK,EAAE,aAAa,IAAI;YAC9C,OAAO;gBACL,UAAU;gBACV,KAAK;gBACL,MAAM;gBACN,OAAO;gBACP,QAAQ;gBACR,QAAQ;YACV;sBAEA,cAAA,6LAAC;gBACC,WAAW,AAAC,2DAAwE,OAAd,OAAO,MAAM,EAAC;;kCAGpF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAW,AAAC,kBAA+B,OAAd,OAAO,MAAM;kDAC7C,cAAA,6LAAC,4OAAa;4CAAC,MAAM;4CAAI,WAAW,OAAO,IAAI;;;;;;;;;;;kDAEjD,6LAAC;wCAAG,WAAU;kDAAmC;;;;;;;;;;;;0CAEnD,6LAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,6LAAC,oMAAC;oCAAC,MAAM;;;;;;;;;;;;;;;;;kCAKb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAE,WAAU;sCAAiC;;;;;;;;;;;kCAIhD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS;gCACT,WAAU;0CAET;;;;;;0CAEH,6LAAC;gCACC,SAAS;gCACT,WAAW,AAAC,wCAAyD,OAAlB,OAAO,UAAU,EAAC;0CAEpE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOf;KAvGa","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/NotHydrated.tsx"],"sourcesContent":["// this component is used to display a loading screen when the page is not hydrated\r\n// the text should be in the middle of the screen\r\n// the text should be \"Loading...\" and a 3 dot animation\r\n\r\nexport default function NotHydrated() {\r\n  return (\r\n    <div className=\"flex h-screen flex-col items-center justify-center\">\r\n      <div className=\"text-2xl font-bold text-slate-800\">Loading...</div>\r\n      <div className=\"text-sm text-slate-600\">\r\n        This may take a few seconds...\r\n      </div>\r\n      <div className=\"text-sm text-slate-600\">Please wait...</div>\r\n      <div className=\"text-sm text-slate-600\">\r\n        If this takes too long, please refresh the page.\r\n      </div>\r\n      <div className=\"text-sm text-slate-600\">\r\n        If you are seeing this, please contact the developer. You know him,\r\n        right?\r\n      </div>\r\n      <div className=\"text-sm text-slate-600\">Thank you for your patience.</div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,mFAAmF;AACnF,iDAAiD;AACjD,wDAAwD;;;;;;;AAEzC,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BAAoC;;;;;;0BACnD,6LAAC;gBAAI,WAAU;0BAAyB;;;;;;0BAGxC,6LAAC;gBAAI,WAAU;0BAAyB;;;;;;0BACxC,6LAAC;gBAAI,WAAU;0BAAyB;;;;;;0BAGxC,6LAAC;gBAAI,WAAU;0BAAyB;;;;;;0BAIxC,6LAAC;gBAAI,WAAU;0BAAyB;;;;;;;;;;;;AAG9C;KAlBwB","debugId":null}},
    {"offset": {"line": 590, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/SaveIndicator.tsx"],"sourcesContent":["import { Save, Check, AlertCircle, Loader2 } from 'lucide-react';\r\nimport { SaveStatus } from '@/types/character';\r\n\r\ninterface SaveIndicatorProps {\r\n  status: SaveStatus;\r\n  lastSaved?: Date | string | null;\r\n  hasUnsavedChanges?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport const SaveIndicator = ({\r\n  status,\r\n  lastSaved,\r\n  hasUnsavedChanges = false,\r\n  className = '',\r\n}: SaveIndicatorProps) => {\r\n  const getStatusConfig = () => {\r\n    switch (status) {\r\n      case 'saving':\r\n        return {\r\n          icon: <Loader2 size={12} className=\"animate-spin\" />,\r\n          text: 'Saving...',\r\n          dotColor: 'bg-yellow-500',\r\n          textColor: 'text-yellow-700',\r\n        };\r\n      case 'saved':\r\n        return {\r\n          icon: <Check size={12} />,\r\n          text: hasUnsavedChanges ? 'Changes pending' : 'All changes saved',\r\n          dotColor: hasUnsavedChanges ? 'bg-yellow-500' : 'bg-green-500',\r\n          textColor: hasUnsavedChanges ? 'text-yellow-700' : 'text-green-700',\r\n        };\r\n      case 'error':\r\n        return {\r\n          icon: <AlertCircle size={12} />,\r\n          text: 'Save failed',\r\n          dotColor: 'bg-red-500',\r\n          textColor: 'text-red-700',\r\n        };\r\n      default:\r\n        return {\r\n          icon: <Save size={12} />,\r\n          text: 'Not saved',\r\n          dotColor: 'bg-gray-400',\r\n          textColor: 'text-gray-600',\r\n        };\r\n    }\r\n  };\r\n\r\n  const config = getStatusConfig();\r\n\r\n  const formatLastSaved = (date: Date | string) => {\r\n    const now = new Date();\r\n    const dateObj = typeof date === 'string' ? new Date(date) : date;\r\n    const diffInSeconds = Math.floor(\r\n      (now.getTime() - dateObj.getTime()) / 1000\r\n    );\r\n\r\n    if (diffInSeconds < 30) {\r\n      return 'just now';\r\n    } else if (diffInSeconds < 60) {\r\n      return `${diffInSeconds}s ago`;\r\n    } else if (diffInSeconds < 3600) {\r\n      const minutes = Math.floor(diffInSeconds / 60);\r\n      return `${minutes}m ago`;\r\n    } else {\r\n      return dateObj.toLocaleTimeString([], {\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-center gap-2 text-sm ${className}`}>\r\n      <span className={`h-2 w-2 rounded-full ${config.dotColor}`}></span>\r\n      <div className=\"flex items-center gap-1\">\r\n        <span className={config.textColor}>{config.icon}</span>\r\n        <span className={config.textColor}>{config.text}</span>\r\n      </div>\r\n      {lastSaved && status === 'saved' && !hasUnsavedChanges && (\r\n        <span className=\"text-xs text-gray-500\">\r\n          â€¢ {formatLastSaved(lastSaved)}\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;;;AAUO,MAAM,gBAAgB;QAAC,EAC5B,MAAM,EACN,SAAS,EACT,oBAAoB,KAAK,EACzB,YAAY,EAAE,EACK;IACnB,MAAM,kBAAkB;QACtB,OAAQ;YACN,KAAK;gBACH,OAAO;oBACL,oBAAM,6LAAC,+NAAO;wBAAC,MAAM;wBAAI,WAAU;;;;;;oBACnC,MAAM;oBACN,UAAU;oBACV,WAAW;gBACb;YACF,KAAK;gBACH,OAAO;oBACL,oBAAM,6LAAC,gNAAK;wBAAC,MAAM;;;;;;oBACnB,MAAM,oBAAoB,oBAAoB;oBAC9C,UAAU,oBAAoB,kBAAkB;oBAChD,WAAW,oBAAoB,oBAAoB;gBACrD;YACF,KAAK;gBACH,OAAO;oBACL,oBAAM,6LAAC,sOAAW;wBAAC,MAAM;;;;;;oBACzB,MAAM;oBACN,UAAU;oBACV,WAAW;gBACb;YACF;gBACE,OAAO;oBACL,oBAAM,6LAAC,6MAAI;wBAAC,MAAM;;;;;;oBAClB,MAAM;oBACN,UAAU;oBACV,WAAW;gBACb;QACJ;IACF;IAEA,MAAM,SAAS;IAEf,MAAM,kBAAkB,CAAC;QACvB,MAAM,MAAM,IAAI;QAChB,MAAM,UAAU,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;QAC5D,MAAM,gBAAgB,KAAK,KAAK,CAC9B,CAAC,IAAI,OAAO,KAAK,QAAQ,OAAO,EAAE,IAAI;QAGxC,IAAI,gBAAgB,IAAI;YACtB,OAAO;QACT,OAAO,IAAI,gBAAgB,IAAI;YAC7B,OAAO,AAAC,GAAgB,OAAd,eAAc;QAC1B,OAAO,IAAI,gBAAgB,MAAM;YAC/B,MAAM,UAAU,KAAK,KAAK,CAAC,gBAAgB;YAC3C,OAAO,AAAC,GAAU,OAAR,SAAQ;QACpB,OAAO;YACL,OAAO,QAAQ,kBAAkB,CAAC,EAAE,EAAE;gBACpC,MAAM;gBACN,QAAQ;YACV;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,AAAC,mCAA4C,OAAV;;0BACjD,6LAAC;gBAAK,WAAW,AAAC,wBAAuC,OAAhB,OAAO,QAAQ;;;;;;0BACxD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAW,OAAO,SAAS;kCAAG,OAAO,IAAI;;;;;;kCAC/C,6LAAC;wBAAK,WAAW,OAAO,SAAS;kCAAG,OAAO,IAAI;;;;;;;;;;;;YAEhD,aAAa,WAAW,WAAW,CAAC,mCACnC,6LAAC;gBAAK,WAAU;;oBAAwB;oBACnC,gBAAgB;;;;;;;;;;;;;AAK7B;KA7Ea","debugId":null}},
    {"offset": {"line": 742, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/Toast.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { X, Dice6, Shield, Zap, CheckCircle2, XCircle, Info, Moon } from 'lucide-react';\r\n\r\nexport interface ToastData {\r\n  id: string;\r\n  type: 'attack' | 'save' | 'damage' | 'info' | 'success' | 'error' | 'rest';\r\n  title: string;\r\n  message: string;\r\n  duration?: number;\r\n  details?: string[];\r\n}\r\n\r\ninterface ToastProps {\r\n  toast: ToastData;\r\n  onDismiss: (id: string) => void;\r\n}\r\n\r\nconst Toast: React.FC<ToastProps> = ({ toast, onDismiss }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isExiting, setIsExiting] = useState(false);\r\n\r\n  const handleDismiss = useCallback(() => {\r\n    setIsExiting(true);\r\n    setTimeout(() => {\r\n      onDismiss(toast.id);\r\n    }, 300);\r\n  }, [toast.id, onDismiss]);\r\n\r\n  useEffect(() => {\r\n    // Animate in\r\n    setTimeout(() => setIsVisible(true), 50);\r\n\r\n    // Auto dismiss\r\n    const timer = setTimeout(() => {\r\n      handleDismiss();\r\n    }, toast.duration || 5000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [toast.duration, handleDismiss]);\r\n\r\n  const getToastStyles = () => {\r\n    switch (toast.type) {\r\n      case 'attack':\r\n        return 'bg-gradient-to-br from-slate-700 via-slate-800 to-slate-900 text-white border-slate-600 shadow-slate-900/50';\r\n      case 'save':\r\n        return 'bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white border-blue-500 shadow-blue-900/50';\r\n      case 'damage':\r\n        return 'bg-gradient-to-br from-amber-600 via-orange-600 to-orange-700 text-white border-amber-500 shadow-orange-900/50';\r\n      case 'success':\r\n        return 'bg-gradient-to-br from-emerald-500 via-emerald-600 to-green-700 text-white border-emerald-400 shadow-emerald-900/50';\r\n      case 'error':\r\n        return 'bg-gradient-to-br from-red-600 via-red-700 to-red-800 text-white border-red-500 shadow-red-900/50';\r\n      case 'rest':\r\n        return 'bg-gradient-to-br from-indigo-600 via-purple-600 to-violet-700 text-white border-indigo-500 shadow-purple-900/50';\r\n      default:\r\n        return 'bg-gradient-to-br from-gray-600 via-gray-700 to-gray-800 text-white border-gray-500 shadow-gray-900/50';\r\n    }\r\n  };\r\n\r\n  const getIcon = () => {\r\n    switch (toast.type) {\r\n      case 'attack':\r\n        return <Dice6 size={22} className=\"text-white drop-shadow-lg\" />;\r\n      case 'save':\r\n        return <Shield size={22} className=\"text-white drop-shadow-lg\" />;\r\n      case 'damage':\r\n        return <Zap size={22} className=\"text-white drop-shadow-lg\" />;\r\n      case 'success':\r\n        return <CheckCircle2 size={22} className=\"text-white drop-shadow-lg\" />;\r\n      case 'error':\r\n        return <XCircle size={22} className=\"text-white drop-shadow-lg\" />;\r\n      case 'rest':\r\n        return <Moon size={22} className=\"text-white drop-shadow-lg\" />;\r\n      case 'info':\r\n        return <Info size={22} className=\"text-white drop-shadow-lg\" />;\r\n      default:\r\n        return <Dice6 size={22} className=\"text-white drop-shadow-lg\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`relative overflow-hidden rounded-xl border-2 shadow-2xl backdrop-blur-sm transition-all duration-300 ease-out ${getToastStyles()} ${isVisible && !isExiting ? 'translate-x-0 transform opacity-100 scale-100' : 'translate-x-full transform opacity-0 scale-95'} ${isExiting ? 'translate-x-full transform opacity-0 scale-95' : ''} max-w-[420px] min-w-[320px]`}\r\n    >\r\n      {/* Animated background pattern */}\r\n      <div className=\"absolute inset-0 opacity-20\">\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_120%,rgba(255,255,255,0.3),transparent)]\"></div>\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,rgba(255,255,255,0.2),transparent)]\"></div>\r\n      </div>\r\n\r\n      {/* Shimmer effect */}\r\n      <div className=\"absolute inset-0 opacity-30\">\r\n        <div \r\n          className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent\"\r\n          style={{\r\n            animation: 'shimmer 2s ease-in-out infinite',\r\n            transform: 'translateX(-100%)',\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"relative px-5 py-4\">\r\n        <div className=\"flex items-start gap-3\">\r\n          {/* Icon with glowing effect */}\r\n          <div className=\"flex-shrink-0 rounded-lg bg-white/20 p-2 backdrop-blur-sm ring-1 ring-white/30\">\r\n            {getIcon()}\r\n          </div>\r\n\r\n          <div className=\"min-w-0 flex-1\">\r\n            <div className=\"mb-1 flex items-center justify-between gap-2\">\r\n              <h4 className=\"truncate text-lg font-bold tracking-tight text-white drop-shadow-md\">\r\n                {toast.title}\r\n              </h4>\r\n              <button\r\n                onClick={handleDismiss}\r\n                className=\"flex-shrink-0 rounded-lg p-1.5 text-white/70 ring-1 ring-white/20 transition-all hover:bg-white/20 hover:text-white hover:ring-white/40 active:scale-95\"\r\n                aria-label=\"Dismiss notification\"\r\n              >\r\n                <X size={16} />\r\n              </button>\r\n            </div>\r\n\r\n            <p className=\"mb-2 text-sm font-medium leading-relaxed text-white/95 drop-shadow-sm\">\r\n              {toast.message}\r\n            </p>\r\n\r\n            {toast.details && toast.details.length > 0 && (\r\n              <div className=\"mt-3 space-y-1.5 rounded-lg bg-black/20 px-3 py-2 backdrop-blur-sm\">\r\n                {toast.details.map((detail, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"flex items-start gap-2 text-xs font-medium text-white/90\"\r\n                  >\r\n                    <span className=\"mt-0.5 text-white/60\">â€¢</span>\r\n                    <span>{detail}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"absolute right-0 bottom-0 left-0 h-1.5 overflow-hidden bg-black/30\">\r\n        <div\r\n          className=\"h-full bg-gradient-to-r from-white/80 via-white/60 to-white/80 shadow-lg transition-all ease-linear\"\r\n          style={{\r\n            width: '100%',\r\n            animation: `toast-progress ${toast.duration || 5000}ms linear forwards`,\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <style>{`\r\n        @keyframes toast-progress {\r\n          from { width: 100%; }\r\n          to { width: 0%; }\r\n        }\r\n        @keyframes shimmer {\r\n          0%, 100% { transform: translateX(-100%); }\r\n          50% { transform: translateX(100%); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface ToastContainerProps {\r\n  toasts: ToastData[];\r\n  onDismiss: (id: string) => void;\r\n}\r\n\r\nexport const ToastContainer: React.FC<ToastContainerProps> = ({\r\n  toasts,\r\n  onDismiss,\r\n}) => {\r\n  return (\r\n    <div className=\"pointer-events-none fixed right-4 bottom-4 z-50 space-y-2\">\r\n      <div className=\"pointer-events-auto space-y-2\">\r\n        {toasts.map(toast => (\r\n          <Toast key={toast.id} toast={toast} onDismiss={onDismiss} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Hook for managing toasts\r\nexport const useToast = () => {\r\n  const [toasts, setToasts] = useState<ToastData[]>([]);\r\n\r\n  const addToast = useCallback((toast: Omit<ToastData, 'id'>) => {\r\n    const id = `toast_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n    setToasts(prev => [...prev, { ...toast, id }]);\r\n  }, []);\r\n\r\n  const dismissToast = useCallback((id: string) => {\r\n    setToasts(prev => prev.filter(toast => toast.id !== id));\r\n  }, []);\r\n\r\n  const showAttackRoll = useCallback(\r\n    (\r\n      weaponName: string,\r\n      roll: number,\r\n      bonus: number,\r\n      isCrit: boolean,\r\n      damage?: string,\r\n      damageType?: string\r\n    ) => {\r\n      const total = roll + bonus;\r\n      let title = `ðŸŽ² ${weaponName}`;\r\n      let message = `${roll} + ${bonus} = ${total}`;\r\n      const details: string[] = [];\r\n\r\n      if (isCrit) {\r\n        title += ' âœ¨ CRITICAL!';\r\n        message = `${roll} (CRIT!) + ${bonus} = ${total}`;\r\n      } else if (roll === 1) {\r\n        title += ' ðŸ’¥ FUMBLE!';\r\n        message = `${roll} (FUMBLE!) + ${bonus} = ${total}`;\r\n      }\r\n\r\n      if (damage) {\r\n        details.push(\r\n          `ðŸ’¥ Damage: ${damage}${damageType ? ` (${damageType})` : ''}`\r\n        );\r\n        if (isCrit) {\r\n          details.push(\"ðŸ”¥ Don't forget to double the damage dice!\");\r\n        }\r\n      }\r\n\r\n      addToast({\r\n        type: 'attack',\r\n        title,\r\n        message,\r\n        details,\r\n        duration: isCrit ? 7000 : 5000,\r\n      });\r\n    },\r\n    [addToast]\r\n  );\r\n\r\n  const showSavingThrow = useCallback(\r\n    (\r\n      spellName: string,\r\n      saveDC: number,\r\n      saveType?: string,\r\n      damage?: string,\r\n      damageType?: string\r\n    ) => {\r\n      const details: string[] = [];\r\n\r\n      if (damage) {\r\n        details.push(\r\n          `ðŸ’¥ Damage: ${damage}${damageType ? ` (${damageType})` : ''}`\r\n        );\r\n        details.push('âœ… Success: Half damage');\r\n        details.push('âŒ Failure: Full damage');\r\n      }\r\n\r\n      addToast({\r\n        type: 'save',\r\n        title: `ðŸ›¡ï¸ ${spellName}`,\r\n        message: `DC ${saveDC}${saveType ? ` ${saveType} Save` : ' Save'}`,\r\n        details,\r\n        duration: 6000,\r\n      });\r\n    },\r\n    [addToast]\r\n  );\r\n\r\n  const showDamageRoll = useCallback(\r\n    (\r\n      weaponName: string,\r\n      damageRoll: string,\r\n      damageType?: string,\r\n      versatile = false\r\n    ) => {\r\n      addToast({\r\n        type: 'damage',\r\n        title: `ðŸ’¥ ${weaponName}${versatile ? ' (Versatile)' : ''}`,\r\n        message: `Damage: ${damageRoll}`,\r\n        details: damageType\r\n          ? [\r\n              `ðŸ—¡ï¸ ${damageType.charAt(0).toUpperCase() + damageType.slice(1)} damage`,\r\n            ]\r\n          : [],\r\n        duration: 4000,\r\n      });\r\n    },\r\n    [addToast]\r\n  );\r\n\r\n  const showShortRest = useCallback(() => {\r\n    addToast({\r\n      type: 'rest',\r\n      title: 'â˜€ï¸ Short Rest Complete',\r\n      message: 'Your character has taken a short rest',\r\n      details: [\r\n        'Short rest abilities restored',\r\n        'Pact Magic slots restored',\r\n        'Reaction reset',\r\n        'Ready to continue your adventure!'\r\n      ],\r\n      duration: 5000,\r\n    });\r\n  }, [addToast]);\r\n\r\n  const showLongRest = useCallback(() => {\r\n    addToast({\r\n      type: 'rest',\r\n      title: 'ðŸŒ™ Long Rest Complete',\r\n      message: 'Your character has taken a long rest',\r\n      details: [\r\n        'All abilities restored',\r\n        'All spell slots restored',\r\n        'Hit points fully restored',\r\n        'Hit dice partially restored',\r\n        'Ready for new challenges!'\r\n      ],\r\n      duration: 6000,\r\n    });\r\n  }, [addToast]);\r\n\r\n  return {\r\n    toasts,\r\n    addToast,\r\n    dismissToast,\r\n    showAttackRoll,\r\n    showSavingThrow,\r\n    showDamageRoll,\r\n    showShortRest,\r\n    showLongRest,\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAHA;;;AAmBA,MAAM,QAA8B;QAAC,EAAE,KAAK,EAAE,SAAS,EAAE;;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,gBAAgB,IAAA,4KAAW;4CAAC;YAChC,aAAa;YACb;oDAAW;oBACT,UAAU,MAAM,EAAE;gBACpB;mDAAG;QACL;2CAAG;QAAC,MAAM,EAAE;QAAE;KAAU;IAExB,IAAA,0KAAS;2BAAC;YACR,aAAa;YACb;mCAAW,IAAM,aAAa;kCAAO;YAErC,eAAe;YACf,MAAM,QAAQ;yCAAW;oBACvB;gBACF;wCAAG,MAAM,QAAQ,IAAI;YAErB;mCAAO,IAAM,aAAa;;QAC5B;0BAAG;QAAC,MAAM,QAAQ;QAAE;KAAc;IAElC,MAAM,iBAAiB;QACrB,OAAQ,MAAM,IAAI;YAChB,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,MAAM,UAAU;QACd,OAAQ,MAAM,IAAI;YAChB,KAAK;gBACH,qBAAO,6LAAC,oNAAK;oBAAC,MAAM;oBAAI,WAAU;;;;;;YACpC,KAAK;gBACH,qBAAO,6LAAC,mNAAM;oBAAC,MAAM;oBAAI,WAAU;;;;;;YACrC,KAAK;gBACH,qBAAO,6LAAC,0MAAG;oBAAC,MAAM;oBAAI,WAAU;;;;;;YAClC,KAAK;gBACH,qBAAO,6LAAC,wOAAY;oBAAC,MAAM;oBAAI,WAAU;;;;;;YAC3C,KAAK;gBACH,qBAAO,6LAAC,0NAAO;oBAAC,MAAM;oBAAI,WAAU;;;;;;YACtC,KAAK;gBACH,qBAAO,6LAAC,6MAAI;oBAAC,MAAM;oBAAI,WAAU;;;;;;YACnC,KAAK;gBACH,qBAAO,6LAAC,6MAAI;oBAAC,MAAM;oBAAI,WAAU;;;;;;YACnC;gBACE,qBAAO,6LAAC,oNAAK;oBAAC,MAAM;oBAAI,WAAU;;;;;;QACtC;IACF;IAEA,qBACE,6LAAC;QACC,WAAW,AAAC,iHAAoI,OAApB,kBAAiB,KAAkI,OAA/H,aAAa,CAAC,YAAY,kDAAkD,iDAAgD,KAAoE,OAAjE,YAAY,kDAAkD,IAAG;;0BAGhV,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAIjB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAU;oBACV,OAAO;wBACL,WAAW;wBACX,WAAW;oBACb;;;;;;;;;;;0BAIJ,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;sCACZ;;;;;;sCAGH,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAG,WAAU;sDACX,MAAM,KAAK;;;;;;sDAEd,6LAAC;4CACC,SAAS;4CACT,WAAU;4CACV,cAAW;sDAEX,cAAA,6LAAC,oMAAC;gDAAC,MAAM;;;;;;;;;;;;;;;;;8CAIb,6LAAC;oCAAE,WAAU;8CACV,MAAM,OAAO;;;;;;gCAGf,MAAM,OAAO,IAAI,MAAM,OAAO,CAAC,MAAM,GAAG,mBACvC,6LAAC;oCAAI,WAAU;8CACZ,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,QAAQ,sBAC1B,6LAAC;4CAEC,WAAU;;8DAEV,6LAAC;oDAAK,WAAU;8DAAuB;;;;;;8DACvC,6LAAC;8DAAM;;;;;;;2CAJF;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAanB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAU;oBACV,OAAO;wBACL,OAAO;wBACP,WAAW,AAAC,kBAAwC,OAAvB,MAAM,QAAQ,IAAI,MAAK;oBACtD;;;;;;;;;;;0BAIJ,6LAAC;0BAAQ;;;;;;;;;;;;AAYf;GApJM;KAAA;AA2JC,MAAM,iBAAgD;QAAC,EAC5D,MAAM,EACN,SAAS,EACV;IACC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACZ,OAAO,GAAG,CAAC,CAAA,sBACV,6LAAC;oBAAqB,OAAO;oBAAO,WAAW;mBAAnC,MAAM,EAAE;;;;;;;;;;;;;;;AAK9B;MAba;AAgBN,MAAM,WAAW;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAc,EAAE;IAEpD,MAAM,WAAW,IAAA,4KAAW;0CAAC,CAAC;YAC5B,MAAM,KAAK,AAAC,SAAsB,OAAd,KAAK,GAAG,IAAG,KAA2C,OAAxC,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;YACvE;kDAAU,CAAA,OAAQ;2BAAI;wBAAM;4BAAE,GAAG,KAAK;4BAAE;wBAAG;qBAAE;;QAC/C;yCAAG,EAAE;IAEL,MAAM,eAAe,IAAA,4KAAW;8CAAC,CAAC;YAChC;sDAAU,CAAA,OAAQ,KAAK,MAAM;8DAAC,CAAA,QAAS,MAAM,EAAE,KAAK;;;QACtD;6CAAG,EAAE;IAEL,MAAM,iBAAiB,IAAA,4KAAW;gDAChC,CACE,YACA,MACA,OACA,QACA,QACA;YAEA,MAAM,QAAQ,OAAO;YACrB,IAAI,QAAQ,AAAC,MAAgB,OAAX;YAClB,IAAI,UAAU,AAAC,GAAY,OAAV,MAAK,OAAgB,OAAX,OAAM,OAAW,OAAN;YACtC,MAAM,UAAoB,EAAE;YAE5B,IAAI,QAAQ;gBACV,SAAS;gBACT,UAAU,AAAC,GAAoB,OAAlB,MAAK,eAAwB,OAAX,OAAM,OAAW,OAAN;YAC5C,OAAO,IAAI,SAAS,GAAG;gBACrB,SAAS;gBACT,UAAU,AAAC,GAAsB,OAApB,MAAK,iBAA0B,OAAX,OAAM,OAAW,OAAN;YAC9C;YAEA,IAAI,QAAQ;gBACV,QAAQ,IAAI,CACV,AAAC,cAAsB,OAAT,QAA8C,OAArC,aAAa,AAAC,KAAe,OAAX,YAAW,OAAK;gBAE3D,IAAI,QAAQ;oBACV,QAAQ,IAAI,CAAC;gBACf;YACF;YAEA,SAAS;gBACP,MAAM;gBACN;gBACA;gBACA;gBACA,UAAU,SAAS,OAAO;YAC5B;QACF;+CACA;QAAC;KAAS;IAGZ,MAAM,kBAAkB,IAAA,4KAAW;iDACjC,CACE,WACA,QACA,UACA,QACA;YAEA,MAAM,UAAoB,EAAE;YAE5B,IAAI,QAAQ;gBACV,QAAQ,IAAI,CACV,AAAC,cAAsB,OAAT,QAA8C,OAArC,aAAa,AAAC,KAAe,OAAX,YAAW,OAAK;gBAE3D,QAAQ,IAAI,CAAC;gBACb,QAAQ,IAAI,CAAC;YACf;YAEA,SAAS;gBACP,MAAM;gBACN,OAAO,AAAC,OAAgB,OAAV;gBACd,SAAS,AAAC,MAAc,OAAT,QAAkD,OAAzC,WAAW,AAAC,IAAY,OAAT,UAAS,WAAS;gBACzD;gBACA,UAAU;YACZ;QACF;gDACA;QAAC;KAAS;IAGZ,MAAM,iBAAiB,IAAA,4KAAW;gDAChC,SACE,YACA,YACA;gBACA,6EAAY;YAEZ,SAAS;gBACP,MAAM;gBACN,OAAO,AAAC,MAAkB,OAAb,YAA6C,OAAhC,YAAY,iBAAiB;gBACvD,SAAS,AAAC,WAAqB,OAAX;gBACpB,SAAS,aACL;oBACG,OAA+D,OAAzD,WAAW,MAAM,CAAC,GAAG,WAAW,KAAK,WAAW,KAAK,CAAC,IAAG;iBACjE,GACD,EAAE;gBACN,UAAU;YACZ;QACF;+CACA;QAAC;KAAS;IAGZ,MAAM,gBAAgB,IAAA,4KAAW;+CAAC;YAChC,SAAS;gBACP,MAAM;gBACN,OAAO;gBACP,SAAS;gBACT,SAAS;oBACP;oBACA;oBACA;oBACA;iBACD;gBACD,UAAU;YACZ;QACF;8CAAG;QAAC;KAAS;IAEb,MAAM,eAAe,IAAA,4KAAW;8CAAC;YAC/B,SAAS;gBACP,MAAM;gBACN,OAAO;gBACP,SAAS;gBACT,SAAS;oBACP;oBACA;oBACA;oBACA;oBACA;iBACD;gBACD,UAAU;YACZ;QACF;6CAAG;QAAC;KAAS;IAEb,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;IAlJa","debugId":null}},
    {"offset": {"line": 1254, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/YouDiedOverlay.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState, useCallback, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\ninterface YouDiedOverlayProps {\r\n  isVisible: boolean;\r\n  onDismiss?: () => void;\r\n  characterName?: string;\r\n  autoDismissAfter?: number;\r\n}\r\n\r\nexport function YouDiedOverlay({\r\n  isVisible,\r\n  onDismiss,\r\n  characterName,\r\n  autoDismissAfter = 6000,\r\n}: YouDiedOverlayProps) {\r\n  const [shouldRender, setShouldRender] = useState(false);\r\n  const [animationPhase, setAnimationPhase] = useState<\r\n    'entering' | 'visible' | 'exiting' | 'hidden'\r\n  >('hidden');\r\n  const isExitingRef = useRef(false);\r\n  const onDismissRef = useRef(onDismiss);\r\n\r\n  // Keep onDismiss ref updated\r\n  useEffect(() => {\r\n    onDismissRef.current = onDismiss;\r\n  }, [onDismiss]);\r\n\r\n  const handleDismiss = useCallback(() => {\r\n    // Prevent multiple dismiss calls\r\n    if (isExitingRef.current) return;\r\n    isExitingRef.current = true;\r\n\r\n    setAnimationPhase('exiting');\r\n    setTimeout(() => {\r\n      setShouldRender(false);\r\n      setAnimationPhase('hidden');\r\n      isExitingRef.current = false;\r\n      onDismissRef.current?.();\r\n    }, 1000); // Exit animation duration\r\n  }, []);\r\n\r\n  // Handle visibility changes\r\n  useEffect(() => {\r\n    if (isVisible && animationPhase === 'hidden' && !isExitingRef.current) {\r\n      setShouldRender(true);\r\n      setAnimationPhase('entering');\r\n\r\n      // Transition to visible after entrance animation\r\n      const visibleTimer = setTimeout(() => {\r\n        setAnimationPhase('visible');\r\n      }, 2500); // Entrance animation duration\r\n\r\n      return () => clearTimeout(visibleTimer);\r\n    }\r\n  }, [isVisible, animationPhase]);\r\n\r\n  // Auto-dismiss after delay (starts counting from when fully visible)\r\n  useEffect(() => {\r\n    if (animationPhase === 'visible' && autoDismissAfter > 0) {\r\n      const dismissTimer = setTimeout(() => {\r\n        handleDismiss();\r\n      }, autoDismissAfter);\r\n\r\n      return () => clearTimeout(dismissTimer);\r\n    }\r\n  }, [animationPhase, autoDismissAfter, handleDismiss]);\r\n\r\n  // Handle escape key and click - allow during entering phase too\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (\r\n        e.key === 'Escape' &&\r\n        (animationPhase === 'visible' || animationPhase === 'entering')\r\n      ) {\r\n        handleDismiss();\r\n      }\r\n    };\r\n\r\n    if (shouldRender) {\r\n      window.addEventListener('keydown', handleKeyDown);\r\n      return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }\r\n  }, [shouldRender, animationPhase, handleDismiss]);\r\n\r\n  const handleClick = useCallback(() => {\r\n    if (animationPhase === 'visible' || animationPhase === 'entering') {\r\n      handleDismiss();\r\n    }\r\n  }, [animationPhase, handleDismiss]);\r\n\r\n  if (!shouldRender) return null;\r\n\r\n  const overlay = (\r\n    <div\r\n      className=\"you-died-overlay\"\r\n      onClick={handleClick}\r\n      style={{\r\n        position: 'fixed',\r\n        inset: 0,\r\n        zIndex: 99999,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        cursor:\r\n          animationPhase === 'visible' || animationPhase === 'entering'\r\n            ? 'pointer'\r\n            : 'default',\r\n        overflow: 'hidden',\r\n      }}\r\n    >\r\n      {/* Dark vignette background */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          inset: 0,\r\n          background:\r\n            'radial-gradient(ellipse at center, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.95) 50%, rgba(0,0,0,0.98) 100%)',\r\n          animation:\r\n            animationPhase === 'entering'\r\n              ? 'youDiedFadeIn 2s ease-out forwards'\r\n              : animationPhase === 'exiting'\r\n                ? 'youDiedFadeOut 1s ease-in forwards'\r\n                : undefined,\r\n          opacity: animationPhase === 'visible' ? 1 : undefined,\r\n        }}\r\n      />\r\n\r\n      {/* Blood-red glow effect behind text */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          width: '100%',\r\n          height: '300px',\r\n          background:\r\n            'radial-gradient(ellipse at center, rgba(139,0,0,0.3) 0%, transparent 70%)',\r\n          animation:\r\n            animationPhase === 'entering'\r\n              ? 'youDiedGlow 2.5s ease-out forwards'\r\n              : animationPhase === 'exiting'\r\n                ? 'youDiedFadeOut 1s ease-in forwards'\r\n                : undefined,\r\n          opacity: animationPhase === 'visible' ? 1 : undefined,\r\n        }}\r\n      />\r\n\r\n      {/* Main \"YOU DIED\" text */}\r\n      <h1\r\n        style={{\r\n          fontFamily: 'var(--font-cinzel-decorative), serif',\r\n          fontSize: 'clamp(3rem, 12vw, 8rem)',\r\n          fontWeight: 400,\r\n          color: '#8B0000',\r\n          textShadow: `\r\n            0 0 10px rgba(139, 0, 0, 0.8),\r\n            0 0 20px rgba(139, 0, 0, 0.6),\r\n            0 0 40px rgba(139, 0, 0, 0.4),\r\n            0 0 80px rgba(139, 0, 0, 0.2)\r\n          `,\r\n          letterSpacing: '0.15em',\r\n          textTransform: 'uppercase',\r\n          margin: 0,\r\n          padding: '0 1rem',\r\n          textAlign: 'center',\r\n          position: 'relative',\r\n          zIndex: 1,\r\n          animation:\r\n            animationPhase === 'entering'\r\n              ? 'youDiedTextReveal 2.5s ease-out forwards'\r\n              : animationPhase === 'exiting'\r\n                ? 'youDiedTextExit 1s ease-in forwards'\r\n                : undefined,\r\n          opacity: animationPhase === 'visible' ? 1 : undefined,\r\n          transform: animationPhase === 'visible' ? 'scale(1)' : undefined,\r\n        }}\r\n      >\r\n        You Died\r\n      </h1>\r\n\r\n      {/* Character name subtitle */}\r\n      {characterName && (\r\n        <p\r\n          style={{\r\n            fontFamily: 'var(--font-cinzel-decorative), serif',\r\n            fontSize: 'clamp(0.875rem, 3vw, 1.5rem)',\r\n            fontWeight: 400,\r\n            color: '#666',\r\n            letterSpacing: '0.2em',\r\n            textTransform: 'uppercase',\r\n            margin: '2rem 0 0 0',\r\n            position: 'relative',\r\n            zIndex: 1,\r\n            animation:\r\n              animationPhase === 'entering'\r\n                ? 'youDiedSubtitleReveal 2.5s ease-out forwards'\r\n                : animationPhase === 'exiting'\r\n                  ? 'youDiedFadeOut 0.8s ease-in forwards'\r\n                  : undefined,\r\n            opacity: animationPhase === 'visible' ? 1 : undefined,\r\n          }}\r\n        >\r\n          {characterName}\r\n        </p>\r\n      )}\r\n\r\n      {/* Click to dismiss hint */}\r\n      {(animationPhase === 'visible' || animationPhase === 'entering') && (\r\n        <p\r\n          style={{\r\n            position: 'absolute',\r\n            bottom: '3rem',\r\n            fontFamily: 'var(--font-cinzel-decorative), serif',\r\n            fontSize: '0.875rem',\r\n            color: '#444',\r\n            letterSpacing: '0.1em',\r\n            animation: 'youDiedHintPulse 2s ease-in-out infinite',\r\n          }}\r\n        >\r\n          Click anywhere to continue\r\n        </p>\r\n      )}\r\n\r\n      {/* CSS Animations */}\r\n      <style jsx>{`\r\n        @keyframes youDiedFadeIn {\r\n          0% {\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes youDiedFadeOut {\r\n          0% {\r\n            opacity: 1;\r\n          }\r\n          100% {\r\n            opacity: 0;\r\n          }\r\n        }\r\n\r\n        @keyframes youDiedGlow {\r\n          0% {\r\n            opacity: 0;\r\n            transform: scale(0.8);\r\n          }\r\n          50% {\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n        }\r\n\r\n        @keyframes youDiedTextReveal {\r\n          0% {\r\n            opacity: 0;\r\n            transform: scale(1.1);\r\n            filter: blur(10px);\r\n          }\r\n          30% {\r\n            opacity: 0;\r\n            transform: scale(1.1);\r\n            filter: blur(10px);\r\n          }\r\n          100% {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n            filter: blur(0);\r\n          }\r\n        }\r\n\r\n        @keyframes youDiedTextExit {\r\n          0% {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n          100% {\r\n            opacity: 0;\r\n            transform: scale(0.95);\r\n          }\r\n        }\r\n\r\n        @keyframes youDiedSubtitleReveal {\r\n          0% {\r\n            opacity: 0;\r\n          }\r\n          60% {\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes youDiedHintPulse {\r\n          0%,\r\n          100% {\r\n            opacity: 0.4;\r\n          }\r\n          50% {\r\n            opacity: 0.7;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n\r\n  // Use portal to render at document root\r\n  if (typeof window !== 'undefined') {\r\n    return createPortal(overlay, document.body);\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default YouDiedOverlay;\r\n"],"names":[],"mappings":";;;;;;;;AAEA;AACA;;;AAHA;;;;AAYO,SAAS,eAAe,KAKT;QALS,EAC7B,SAAS,EACT,SAAS,EACT,aAAa,EACb,mBAAmB,IAAI,EACH,GALS;;IAM7B,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAElD;IACF,MAAM,eAAe,IAAA,uKAAM,EAAC;IAC5B,MAAM,eAAe,IAAA,uKAAM,EAAC;IAE5B,6BAA6B;IAC7B,IAAA,0KAAS;oCAAC;YACR,aAAa,OAAO,GAAG;QACzB;mCAAG;QAAC;KAAU;IAEd,MAAM,gBAAgB,IAAA,4KAAW;qDAAC;YAChC,iCAAiC;YACjC,IAAI,aAAa,OAAO,EAAE;YAC1B,aAAa,OAAO,GAAG;YAEvB,kBAAkB;YAClB;6DAAW;wBAIT;oBAHA,gBAAgB;oBAChB,kBAAkB;oBAClB,aAAa,OAAO,GAAG;qBACvB,wBAAA,aAAa,OAAO,cAApB,4CAAA,2BAAA;gBACF;4DAAG,OAAO,0BAA0B;QACtC;oDAAG,EAAE;IAEL,4BAA4B;IAC5B,IAAA,0KAAS;oCAAC;YACR,IAAI,aAAa,mBAAmB,YAAY,CAAC,aAAa,OAAO,EAAE;gBACrE,gBAAgB;gBAChB,kBAAkB;gBAElB,iDAAiD;gBACjD,MAAM,eAAe;6DAAW;wBAC9B,kBAAkB;oBACpB;4DAAG,OAAO,8BAA8B;gBAExC;gDAAO,IAAM,aAAa;;YAC5B;QACF;mCAAG;QAAC;QAAW;KAAe;IAE9B,qEAAqE;IACrE,IAAA,0KAAS;oCAAC;YACR,IAAI,mBAAmB,aAAa,mBAAmB,GAAG;gBACxD,MAAM,eAAe;6DAAW;wBAC9B;oBACF;4DAAG;gBAEH;gDAAO,IAAM,aAAa;;YAC5B;QACF;mCAAG;QAAC;QAAgB;QAAkB;KAAc;IAEpD,gEAAgE;IAChE,IAAA,0KAAS;oCAAC;YACR,MAAM;0DAAgB,CAAC;oBACrB,IACE,EAAE,GAAG,KAAK,YACV,CAAC,mBAAmB,aAAa,mBAAmB,UAAU,GAC9D;wBACA;oBACF;gBACF;;YAEA,IAAI,cAAc;gBAChB,OAAO,gBAAgB,CAAC,WAAW;gBACnC;gDAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;YACrD;QACF;mCAAG;QAAC;QAAc;QAAgB;KAAc;IAEhD,MAAM,cAAc,IAAA,4KAAW;mDAAC;YAC9B,IAAI,mBAAmB,aAAa,mBAAmB,YAAY;gBACjE;YACF;QACF;kDAAG;QAAC;QAAgB;KAAc;IAElC,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,wBACJ,6LAAC;QAEC,SAAS;QACT,OAAO;YACL,UAAU;YACV,OAAO;YACP,QAAQ;YACR,SAAS;YACT,eAAe;YACf,YAAY;YACZ,gBAAgB;YAChB,QACE,mBAAmB,aAAa,mBAAmB,aAC/C,YACA;YACN,UAAU;QACZ;kDAfU;;0BAkBV,6LAAC;gBACC,OAAO;oBACL,UAAU;oBACV,OAAO;oBACP,YACE;oBACF,WACE,mBAAmB,aACf,uCACA,mBAAmB,YACjB,uCACA;oBACR,SAAS,mBAAmB,YAAY,IAAI;gBAC9C;;;;;;;0BAIF,6LAAC;gBACC,OAAO;oBACL,UAAU;oBACV,OAAO;oBACP,QAAQ;oBACR,YACE;oBACF,WACE,mBAAmB,aACf,uCACA,mBAAmB,YACjB,uCACA;oBACR,SAAS,mBAAmB,YAAY,IAAI;gBAC9C;;;;;;;0BAIF,6LAAC;gBACC,OAAO;oBACL,YAAY;oBACZ,UAAU;oBACV,YAAY;oBACZ,OAAO;oBACP,YAAa;oBAMb,eAAe;oBACf,eAAe;oBACf,QAAQ;oBACR,SAAS;oBACT,WAAW;oBACX,UAAU;oBACV,QAAQ;oBACR,WACE,mBAAmB,aACf,6CACA,mBAAmB,YACjB,wCACA;oBACR,SAAS,mBAAmB,YAAY,IAAI;oBAC5C,WAAW,mBAAmB,YAAY,aAAa;gBACzD;;0BACD;;;;;;YAKA,+BACC,6LAAC;gBACC,OAAO;oBACL,YAAY;oBACZ,UAAU;oBACV,YAAY;oBACZ,OAAO;oBACP,eAAe;oBACf,eAAe;oBACf,QAAQ;oBACR,UAAU;oBACV,QAAQ;oBACR,WACE,mBAAmB,aACf,iDACA,mBAAmB,YACjB,yCACA;oBACR,SAAS,mBAAmB,YAAY,IAAI;gBAC9C;;0BAEC;;;;;;YAKJ,CAAC,mBAAmB,aAAa,mBAAmB,UAAU,mBAC7D,6LAAC;gBACC,OAAO;oBACL,UAAU;oBACV,QAAQ;oBACR,YAAY;oBACZ,UAAU;oBACV,OAAO;oBACP,eAAe;oBACf,WAAW;gBACb;;0BACD;;;;;;;;;;;;;;;;IA6FP,wCAAwC;IACxC,wCAAmC;QACjC,qBAAO,IAAA,oLAAY,EAAC,SAAS,SAAS,IAAI;IAC5C;;;AAGF;GAnTgB;KAAA;uCAqTD","debugId":null}},
    {"offset": {"line": 1511, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/LevelUpOverlay.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState, useCallback, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\ninterface LevelUpOverlayProps {\r\n  isVisible: boolean;\r\n  onDismiss?: () => void;\r\n  newLevel: number;\r\n  characterName?: string;\r\n  autoDismissAfter?: number;\r\n}\r\n\r\nexport function LevelUpOverlay({\r\n  isVisible,\r\n  onDismiss,\r\n  newLevel,\r\n  characterName,\r\n  autoDismissAfter = 4000,\r\n}: LevelUpOverlayProps) {\r\n  console.log('LevelUpOverlay rendered', isVisible, newLevel, characterName);\r\n  const [shouldRender, setShouldRender] = useState(false);\r\n  const [animationPhase, setAnimationPhase] = useState<\r\n    'entering' | 'visible' | 'exiting' | 'hidden'\r\n  >('hidden');\r\n  const isExitingRef = useRef(false);\r\n  const onDismissRef = useRef(onDismiss);\r\n\r\n  useEffect(() => {\r\n    onDismissRef.current = onDismiss;\r\n  }, [onDismiss]);\r\n\r\n  const handleDismiss = useCallback(() => {\r\n    if (isExitingRef.current) return;\r\n    isExitingRef.current = true;\r\n\r\n    setAnimationPhase('exiting');\r\n    setTimeout(() => {\r\n      setShouldRender(false);\r\n      setAnimationPhase('hidden');\r\n      isExitingRef.current = false;\r\n      onDismissRef.current?.();\r\n    }, 800);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isVisible && animationPhase === 'hidden' && !isExitingRef.current) {\r\n      setShouldRender(true);\r\n      setAnimationPhase('entering');\r\n\r\n      const visibleTimer = setTimeout(() => {\r\n        setAnimationPhase('visible');\r\n      }, 1500);\r\n\r\n      return () => clearTimeout(visibleTimer);\r\n    }\r\n  }, [isVisible, animationPhase]);\r\n\r\n  useEffect(() => {\r\n    if (animationPhase === 'visible' && autoDismissAfter > 0) {\r\n      const dismissTimer = setTimeout(() => {\r\n        handleDismiss();\r\n      }, autoDismissAfter);\r\n\r\n      return () => clearTimeout(dismissTimer);\r\n    }\r\n  }, [animationPhase, autoDismissAfter, handleDismiss]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (\r\n        e.key === 'Escape' &&\r\n        (animationPhase === 'visible' || animationPhase === 'entering')\r\n      ) {\r\n        handleDismiss();\r\n      }\r\n    };\r\n\r\n    if (shouldRender) {\r\n      window.addEventListener('keydown', handleKeyDown);\r\n      return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }\r\n  }, [shouldRender, animationPhase, handleDismiss]);\r\n\r\n  const handleClick = useCallback(() => {\r\n    if (animationPhase === 'visible' || animationPhase === 'entering') {\r\n      handleDismiss();\r\n    }\r\n  }, [animationPhase, handleDismiss]);\r\n\r\n  if (!shouldRender) return null;\r\n\r\n  const overlay = (\r\n    <div\r\n      className=\"level-up-overlay\"\r\n      onClick={handleClick}\r\n      style={{\r\n        position: 'fixed',\r\n        inset: 0,\r\n        zIndex: 99999,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        cursor:\r\n          animationPhase === 'visible' || animationPhase === 'entering'\r\n            ? 'pointer'\r\n            : 'default',\r\n        overflow: 'hidden',\r\n      }}\r\n    >\r\n      {/* Dark background with vignette */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          inset: 0,\r\n          background:\r\n            'radial-gradient(ellipse at center, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.9) 70%, rgba(0,0,0,0.95) 100%)',\r\n          animation:\r\n            animationPhase === 'entering'\r\n              ? 'levelUpBgFadeIn 1s ease-out forwards'\r\n              : animationPhase === 'exiting'\r\n                ? 'levelUpBgFadeOut 0.8s ease-in forwards'\r\n                : undefined,\r\n          opacity: animationPhase === 'visible' ? 1 : undefined,\r\n        }}\r\n      />\r\n\r\n      {/* Light rays effect */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          width: '200%',\r\n          height: '200%',\r\n          background: `\r\n            conic-gradient(\r\n              from 0deg at 50% 50%,\r\n              transparent 0deg,\r\n              rgba(255, 215, 0, 0.03) 10deg,\r\n              transparent 20deg,\r\n              rgba(255, 215, 0, 0.05) 30deg,\r\n              transparent 40deg,\r\n              rgba(255, 215, 0, 0.03) 50deg,\r\n              transparent 60deg,\r\n              rgba(255, 215, 0, 0.04) 70deg,\r\n              transparent 80deg,\r\n              rgba(255, 215, 0, 0.03) 90deg,\r\n              transparent 100deg,\r\n              rgba(255, 215, 0, 0.05) 110deg,\r\n              transparent 120deg,\r\n              rgba(255, 215, 0, 0.03) 130deg,\r\n              transparent 140deg,\r\n              rgba(255, 215, 0, 0.04) 150deg,\r\n              transparent 160deg,\r\n              rgba(255, 215, 0, 0.03) 170deg,\r\n              transparent 180deg,\r\n              rgba(255, 215, 0, 0.05) 190deg,\r\n              transparent 200deg,\r\n              rgba(255, 215, 0, 0.03) 210deg,\r\n              transparent 220deg,\r\n              rgba(255, 215, 0, 0.04) 230deg,\r\n              transparent 240deg,\r\n              rgba(255, 215, 0, 0.03) 250deg,\r\n              transparent 260deg,\r\n              rgba(255, 215, 0, 0.05) 270deg,\r\n              transparent 280deg,\r\n              rgba(255, 215, 0, 0.03) 290deg,\r\n              transparent 300deg,\r\n              rgba(255, 215, 0, 0.04) 310deg,\r\n              transparent 320deg,\r\n              rgba(255, 215, 0, 0.03) 330deg,\r\n              transparent 340deg,\r\n              rgba(255, 215, 0, 0.05) 350deg,\r\n              transparent 360deg\r\n            )\r\n          `,\r\n          animation:\r\n            animationPhase === 'entering' || animationPhase === 'visible'\r\n              ? 'levelUpRaysRotate 20s linear infinite, levelUpRaysFadeIn 1.5s ease-out forwards'\r\n              : animationPhase === 'exiting'\r\n                ? 'levelUpBgFadeOut 0.8s ease-in forwards'\r\n                : undefined,\r\n        }}\r\n      />\r\n\r\n      {/* Golden glow behind text */}\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          width: '600px',\r\n          height: '300px',\r\n          background:\r\n            'radial-gradient(ellipse at center, rgba(255, 215, 0, 0.15) 0%, transparent 60%)',\r\n          animation:\r\n            animationPhase === 'entering'\r\n              ? 'levelUpGlowPulse 2s ease-out forwards'\r\n              : animationPhase === 'exiting'\r\n                ? 'levelUpBgFadeOut 0.8s ease-in forwards'\r\n                : 'levelUpGlowBreath 3s ease-in-out infinite',\r\n          opacity: animationPhase === 'visible' ? 1 : undefined,\r\n        }}\r\n      />\r\n\r\n      {/* Main content */}\r\n      <div\r\n        style={{\r\n          position: 'relative',\r\n          zIndex: 1,\r\n          textAlign: 'center',\r\n          animation:\r\n            animationPhase === 'entering'\r\n              ? 'levelUpContentReveal 1.5s ease-out forwards'\r\n              : animationPhase === 'exiting'\r\n                ? 'levelUpContentExit 0.8s ease-in forwards'\r\n                : undefined,\r\n          opacity: animationPhase === 'visible' ? 1 : undefined,\r\n        }}\r\n      >\r\n        {/* Decorative line top */}\r\n        <div\r\n          style={{\r\n            width: '300px',\r\n            height: '2px',\r\n            background:\r\n              'linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.8), transparent)',\r\n            margin: '0 auto 1.5rem',\r\n            animation:\r\n              animationPhase === 'entering'\r\n                ? 'levelUpLineExpand 1s ease-out forwards'\r\n                : undefined,\r\n          }}\r\n        />\r\n\r\n        {/* LEVEL UP text */}\r\n        <p\r\n          style={{\r\n            fontFamily: 'var(--font-cinzel-decorative), Georgia, serif',\r\n            fontSize: 'clamp(0.875rem, 2vw, 1rem)',\r\n            fontWeight: 400,\r\n            color: 'rgba(255, 215, 0, 0.7)',\r\n            letterSpacing: '0.4em',\r\n            textTransform: 'uppercase',\r\n            margin: '0 0 0.5rem 0',\r\n          }}\r\n        >\r\n          Level Up\r\n        </p>\r\n\r\n        {/* Level number */}\r\n        <h1\r\n          style={{\r\n            fontFamily: 'var(--font-cinzel-decorative), Georgia, serif',\r\n            fontSize: 'clamp(4rem, 15vw, 8rem)',\r\n            fontWeight: 700,\r\n            color: '#FFD700',\r\n            textShadow: `\r\n              0 0 20px rgba(255, 215, 0, 0.5),\r\n              0 0 40px rgba(255, 215, 0, 0.3),\r\n              0 0 60px rgba(255, 215, 0, 0.2),\r\n              0 2px 4px rgba(0, 0, 0, 0.5)\r\n            `,\r\n            letterSpacing: '0.05em',\r\n            margin: 0,\r\n            lineHeight: 1,\r\n          }}\r\n        >\r\n          {newLevel}\r\n        </h1>\r\n\r\n        {/* Character name */}\r\n        {characterName && (\r\n          <p\r\n            style={{\r\n              fontFamily: 'var(--font-cinzel-decorative), Georgia, serif',\r\n              fontSize: 'clamp(0.875rem, 2.5vw, 1.25rem)',\r\n              fontWeight: 400,\r\n              color: 'rgba(255, 255, 255, 0.6)',\r\n              letterSpacing: '0.15em',\r\n              textTransform: 'uppercase',\r\n              margin: '1rem 0 0 0',\r\n            }}\r\n          >\r\n            {characterName}\r\n          </p>\r\n        )}\r\n\r\n        {/* Decorative line bottom */}\r\n        <div\r\n          style={{\r\n            width: '300px',\r\n            height: '2px',\r\n            background:\r\n              'linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.8), transparent)',\r\n            margin: '1.5rem auto 0',\r\n            animation:\r\n              animationPhase === 'entering'\r\n                ? 'levelUpLineExpand 1s ease-out forwards'\r\n                : undefined,\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Click to dismiss hint */}\r\n      {(animationPhase === 'visible' || animationPhase === 'entering') && (\r\n        <p\r\n          style={{\r\n            position: 'absolute',\r\n            bottom: '2rem',\r\n            fontFamily: 'var(--font-cinzel-decorative), Georgia, serif',\r\n            fontSize: '0.75rem',\r\n            color: 'rgba(255, 215, 0, 0.4)',\r\n            letterSpacing: '0.1em',\r\n            animation: 'levelUpHintPulse 2s ease-in-out infinite',\r\n          }}\r\n        >\r\n          Click anywhere to continue\r\n        </p>\r\n      )}\r\n\r\n      {/* CSS Animations */}\r\n      <style jsx>{`\r\n        @keyframes levelUpBgFadeIn {\r\n          0% {\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpBgFadeOut {\r\n          0% {\r\n            opacity: 1;\r\n          }\r\n          100% {\r\n            opacity: 0;\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpRaysRotate {\r\n          0% {\r\n            transform: rotate(0deg);\r\n          }\r\n          100% {\r\n            transform: rotate(360deg);\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpRaysFadeIn {\r\n          0% {\r\n            opacity: 0;\r\n          }\r\n          50% {\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpGlowPulse {\r\n          0% {\r\n            opacity: 0;\r\n            transform: scale(0.8);\r\n          }\r\n          50% {\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpGlowBreath {\r\n          0%,\r\n          100% {\r\n            opacity: 0.8;\r\n            transform: scale(1);\r\n          }\r\n          50% {\r\n            opacity: 1;\r\n            transform: scale(1.05);\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpContentReveal {\r\n          0% {\r\n            opacity: 0;\r\n            transform: scale(0.9) translateY(20px);\r\n          }\r\n          40% {\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            opacity: 1;\r\n            transform: scale(1) translateY(0);\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpContentExit {\r\n          0% {\r\n            opacity: 1;\r\n            transform: scale(1);\r\n          }\r\n          100% {\r\n            opacity: 0;\r\n            transform: scale(1.05);\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpLineExpand {\r\n          0% {\r\n            width: 0;\r\n            opacity: 0;\r\n          }\r\n          50% {\r\n            opacity: 0;\r\n          }\r\n          100% {\r\n            width: 300px;\r\n            opacity: 1;\r\n          }\r\n        }\r\n\r\n        @keyframes levelUpHintPulse {\r\n          0%,\r\n          100% {\r\n            opacity: 0.3;\r\n          }\r\n          50% {\r\n            opacity: 0.6;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n\r\n  if (typeof window !== 'undefined') {\r\n    return createPortal(overlay, document.body);\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default LevelUpOverlay;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1826, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/components/ui/feedback/index.ts"],"sourcesContent":["// Feedback & Modal Components\r\nexport { ConfirmationModal } from './ConfirmationModal';\r\nexport { default as ErrorBoundary } from './ErrorBoundary';\r\nexport { default as ErrorPage } from './ErrorPage';\r\nexport { Modal } from './Modal';\r\nexport { ModalPortal } from './ModalPortal';\r\nexport { default as NotHydrated } from './NotHydrated';\r\nexport { SaveIndicator } from './SaveIndicator';\r\nexport { ToastContainer, useToast } from './Toast';\r\nexport { YouDiedOverlay } from './YouDiedOverlay';\r\nexport { LevelUpOverlay } from './LevelUpOverlay';\r\n"],"names":[],"mappings":"AAAA,8BAA8B;;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","debugId":null}}]
}