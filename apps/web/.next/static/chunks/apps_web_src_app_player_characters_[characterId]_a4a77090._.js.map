{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/app/player/characters/%5BcharacterId%5D/characterSheetTabs.tsx"],"sourcesContent":["import React from 'react';\r\nimport { TabContent } from '@/components/ui/layout/GroupedTabs';\r\nimport ErrorBoundary from '@/components/ui/feedback/ErrorBoundary';\r\nimport ConditionsDiseasesManager from '@/components/ui/game/ConditionsDiseasesManager';\r\nimport CharacterBackgroundEditor from '@/components/ui/character/CharacterBackgroundEditor';\r\nimport FeaturesTraitsManager from '@/components/ui/game/FeaturesTraitsManager';\r\nimport NotesManager from '@/components/ui/game/NotesManager';\r\nimport InventoryManager from '@/components/ui/game/InventoryManager';\r\nimport CurrencyManager from '@/components/ui/game/CurrencyManager';\r\nimport { SpellcastingStats } from '@/components/SpellcastingStats';\r\nimport { EnhancedSpellManagement } from '@/components/EnhancedSpellManagement';\r\nimport EquipmentSection from '@/components/ui/character/EquipmentSection';\r\nimport { ToastData } from '@/components/ui/feedback/Toast';\r\nimport {\r\n  CharacterState,\r\n  RichTextContent,\r\n  CharacterBackground,\r\n} from '@/types/character';\r\n\r\ninterface CharacterSheetTabsConfig {\r\n  character: CharacterState;\r\n  hasHydrated: boolean;\r\n  addFeature: (\r\n    item: Omit<RichTextContent, 'id' | 'createdAt' | 'updatedAt'>\r\n  ) => void;\r\n  updateFeature: (id: string, updates: Partial<RichTextContent>) => void;\r\n  deleteFeature: (id: string) => void;\r\n  addTrait: (\r\n    item: Omit<RichTextContent, 'id' | 'createdAt' | 'updatedAt'>\r\n  ) => void;\r\n  updateTrait: (id: string, updates: Partial<RichTextContent>) => void;\r\n  deleteTrait: (id: string) => void;\r\n  updateCharacterBackground: (updates: Partial<CharacterBackground>) => void;\r\n  addNote: (\r\n    item: Omit<RichTextContent, 'id' | 'createdAt' | 'updatedAt'>\r\n  ) => void;\r\n  updateNote: (id: string, updates: Partial<RichTextContent>) => void;\r\n  deleteNote: (id: string) => void;\r\n  reorderNotes: (sourceIndex: number, destinationIndex: number) => void;\r\n  addToast: (toast: Omit<ToastData, 'id'>) => void;\r\n}\r\n\r\nexport const createCharacterSheetTabsConfig = ({\r\n  character,\r\n  hasHydrated,\r\n  addFeature,\r\n  updateFeature,\r\n  deleteFeature,\r\n  addTrait,\r\n  updateTrait,\r\n  deleteTrait,\r\n  updateCharacterBackground,\r\n  addNote,\r\n  updateNote,\r\n  deleteNote,\r\n  reorderNotes,\r\n  addToast,\r\n}: CharacterSheetTabsConfig) => [\r\n  {\r\n    id: 'combat-magic',\r\n    label: 'Combat & Magic',\r\n    icon: '‚öîÔ∏è',\r\n    defaultOpen: true,\r\n    tabs: [\r\n      {\r\n        id: 'spellcasting',\r\n        label: 'Spellcasting',\r\n        icon: '‚ú®',\r\n        content: (\r\n          <TabContent>\r\n            <div className=\"space-y-6\">\r\n              {/* Spellcasting Statistics - Full Width at Top */}\r\n              <ErrorBoundary\r\n                fallback={\r\n                  <div className=\"rounded-lg border border-purple-200 bg-white p-4 shadow\">\r\n                    <h3 className=\"mb-4 text-lg font-bold text-purple-800\">\r\n                      Spellcasting Stats\r\n                    </h3>\r\n                    <p className=\"text-gray-500\">\r\n                      Unable to load spellcasting statistics\r\n                    </p>\r\n                  </div>\r\n                }\r\n              >\r\n                <SpellcastingStats />\r\n              </ErrorBoundary>\r\n\r\n              {/* Enhanced Spell Management - Full Width */}\r\n              <ErrorBoundary\r\n                fallback={\r\n                  <div className=\"rounded-lg border border-purple-200 bg-white p-4 shadow\">\r\n                    <h3 className=\"mb-4 text-lg font-bold text-purple-800\">\r\n                      Spells & Cantrips\r\n                    </h3>\r\n                    <p className=\"text-gray-500\">\r\n                      Unable to load spell management\r\n                    </p>\r\n                  </div>\r\n                }\r\n              >\r\n                <EnhancedSpellManagement />\r\n              </ErrorBoundary>\r\n            </div>\r\n          </TabContent>\r\n        ),\r\n      },\r\n      {\r\n        id: 'equipment',\r\n        label: 'Equipment',\r\n        icon: 'üõ°Ô∏è',\r\n        content: (\r\n          <TabContent>\r\n            <EquipmentSection character={character} />\r\n          </TabContent>\r\n        ),\r\n      },\r\n      {\r\n        id: 'conditions',\r\n        label: 'Conditions & Diseases',\r\n        icon: 'ü§í',\r\n        content: (\r\n          <TabContent>\r\n            <ErrorBoundary\r\n              fallback={\r\n                <div className=\"rounded-lg border border-red-200 bg-white p-6 shadow-lg\">\r\n                  <h3 className=\"mb-4 text-lg font-bold text-red-800\">\r\n                    Conditions & Diseases\r\n                  </h3>\r\n                  <p className=\"text-gray-500\">\r\n                    Unable to load conditions and diseases manager\r\n                  </p>\r\n                </div>\r\n              }\r\n            >\r\n              {hasHydrated ? (\r\n                <ConditionsDiseasesManager />\r\n              ) : (\r\n                <div className=\"rounded-lg border border-gray-200 bg-white p-6 shadow-lg\">\r\n                  <div className=\"py-4 text-center\">\r\n                    <div className=\"mx-auto h-8 w-8 animate-spin rounded-full border-b-2 border-blue-600\"></div>\r\n                    <p className=\"mt-2 text-gray-600\">\r\n                      Loading conditions and diseases...\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </ErrorBoundary>\r\n          </TabContent>\r\n        ),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'items-wealth',\r\n    label: 'Items & Wealth',\r\n    icon: 'üí∞',\r\n    defaultOpen: false,\r\n    tabs: [\r\n      {\r\n        id: 'inventory',\r\n        label: 'Inventory',\r\n        icon: 'üéí',\r\n        content: (\r\n          <TabContent>\r\n            <div className=\"max-w-none\">\r\n              <ErrorBoundary\r\n                fallback={\r\n                  <div className=\"rounded-lg border border-purple-200 bg-white p-6 shadow-lg\">\r\n                    <h3 className=\"mb-4 text-lg font-bold text-purple-800\">\r\n                      Inventory\r\n                    </h3>\r\n                    <p className=\"text-gray-500\">\r\n                      Unable to load inventory management\r\n                    </p>\r\n                  </div>\r\n                }\r\n              >\r\n                <InventoryManager />\r\n              </ErrorBoundary>\r\n            </div>\r\n          </TabContent>\r\n        ),\r\n      },\r\n      {\r\n        id: 'currency',\r\n        label: 'Currency',\r\n        icon: 'üí∞',\r\n        content: (\r\n          <TabContent>\r\n            <div className=\"mx-auto max-w-4xl\">\r\n              <ErrorBoundary\r\n                fallback={\r\n                  <div className=\"rounded-lg border border-yellow-200 bg-white p-6 shadow-lg\">\r\n                    <h3 className=\"mb-4 text-lg font-bold text-amber-800\">\r\n                      Currency\r\n                    </h3>\r\n                    <p className=\"text-gray-500\">\r\n                      Unable to load currency management\r\n                    </p>\r\n                  </div>\r\n                }\r\n              >\r\n                <CurrencyManager />\r\n              </ErrorBoundary>\r\n            </div>\r\n          </TabContent>\r\n        ),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: 'character-story',\r\n    label: 'Character & Story',\r\n    icon: 'üìñ',\r\n    defaultOpen: false,\r\n    tabs: [\r\n      {\r\n        id: 'character-details',\r\n        label: 'Character Details',\r\n        icon: 'üìú',\r\n        content: (\r\n          <TabContent>\r\n            <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2 xl:grid-cols-2\">\r\n              {/* Features */}\r\n              <ErrorBoundary\r\n                fallback={\r\n                  <div className=\"rounded-lg border border-amber-200 bg-white p-6 shadow-lg\">\r\n                    <h3 className=\"mb-4 text-lg font-bold text-amber-800\">\r\n                      Features\r\n                    </h3>\r\n                    <p className=\"text-gray-500\">\r\n                      Unable to load features editor\r\n                    </p>\r\n                  </div>\r\n                }\r\n              >\r\n                <FeaturesTraitsManager\r\n                  items={character.features}\r\n                  category=\"feature\"\r\n                  onAdd={addFeature}\r\n                  onUpdate={updateFeature}\r\n                  onDelete={deleteFeature}\r\n                />\r\n              </ErrorBoundary>\r\n\r\n              {/* Traits */}\r\n              <ErrorBoundary\r\n                fallback={\r\n                  <div className=\"rounded-lg border border-emerald-200 bg-white p-6 shadow-lg\">\r\n                    <h3 className=\"mb-4 text-lg font-bold text-emerald-800\">\r\n                      Traits\r\n                    </h3>\r\n                    <p className=\"text-gray-500\">\r\n                      Unable to load traits editor\r\n                    </p>\r\n                  </div>\r\n                }\r\n              >\r\n                <FeaturesTraitsManager\r\n                  items={character.traits}\r\n                  category=\"trait\"\r\n                  onAdd={addTrait}\r\n                  onUpdate={updateTrait}\r\n                  onDelete={deleteTrait}\r\n                />\r\n              </ErrorBoundary>\r\n\r\n              {/* Character Background - Full Width */}\r\n              <div className=\"lg:col-span-2\">\r\n                <ErrorBoundary\r\n                  fallback={\r\n                    <div className=\"rounded-lg border border-emerald-200 bg-white p-6 shadow-lg\">\r\n                      <h3 className=\"mb-4 text-lg font-bold text-emerald-800\">\r\n                        Character Background\r\n                      </h3>\r\n                      <p className=\"text-gray-500\">\r\n                        Unable to load background editor\r\n                      </p>\r\n                    </div>\r\n                  }\r\n                >\r\n                  <CharacterBackgroundEditor\r\n                    background={character.characterBackground}\r\n                    onChange={updateCharacterBackground}\r\n                  />\r\n                </ErrorBoundary>\r\n              </div>\r\n            </div>\r\n          </TabContent>\r\n        ),\r\n      },\r\n      {\r\n        id: 'notes',\r\n        label: 'Session Notes',\r\n        icon: 'üìù',\r\n        content: (\r\n          <TabContent>\r\n            <div className=\"max-w-none space-y-4\">\r\n              <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                <span className=\"inline-flex items-center gap-1.5 rounded-full border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 px-3 py-1 font-medium text-amber-800 shadow-sm\">\r\n                  <span className=\"text-base\">üìÖ</span>\r\n                  Campaign Day {character.daysSpent || 0}\r\n                </span>\r\n                <span className=\"text-gray-400\">‚Ä¢</span>\r\n                <span className=\"text-gray-500\">\r\n                  {Math.floor((character.daysSpent || 0) / 7) > 0 ? (\r\n                    <>\r\n                      Week {Math.floor((character.daysSpent || 0) / 7) + 1}, Day{' '}\r\n                      {((character.daysSpent || 0) % 7) + 1}\r\n                    </>\r\n                  ) : (\r\n                    `Day ${(character.daysSpent || 0) + 1} of the adventure`\r\n                  )}\r\n                </span>\r\n              </div>\r\n\r\n              <ErrorBoundary\r\n                fallback={\r\n                  <div className=\"rounded-lg border border-blue-200 bg-white p-6 shadow-lg\">\r\n                    <h3 className=\"mb-4 text-lg font-bold text-blue-800\">\r\n                      Notes\r\n                    </h3>\r\n                    <p className=\"text-gray-500\">Unable to load notes editor</p>\r\n                  </div>\r\n                }\r\n              >\r\n                <NotesManager\r\n                  items={character.notes}\r\n                  onAdd={addNote}\r\n                  onUpdate={updateNote}\r\n                  onDelete={deleteNote}\r\n                  onReorder={reorderNotes}\r\n                  onAddToast={addToast}\r\n                />\r\n              </ErrorBoundary>\r\n            </div>\r\n          </TabContent>\r\n        ),\r\n      },\r\n    ],\r\n  },\r\n];\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":["file:///home/irakli/Projects/RollKeeper/apps/web/src/app/player/characters/%5BcharacterId%5D/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { FileText, ArrowLeft, AlertTriangle } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { useParams } from 'next/navigation';\r\nimport { usePlayerStore } from '@/store/playerStore';\r\nimport { useCharacterStore } from '@/store/characterStore';\r\nimport { useAutoSave } from '@/hooks/useAutoSave';\r\nimport { Button } from '@/components/ui/forms';\r\nimport { Badge } from '@/components/ui/layout';\r\n\r\nimport SpellSlotTracker from '@/components/ui/character/SpellSlotTracker';\r\nimport TraitTracker from '@/components/ui/character/TraitTracker';\r\nimport HeroicInspirationTracker from '@/components/ui/character/HeroicInspirationTracker';\r\nimport XPTracker from '@/components/ui/character/XPTracker';\r\n\r\nimport HitPointManager from '@/components/ui/character/HitPointManager';\r\nimport ExperimentalFeaturesSection from '@/components/ui/layout/ExperimentalFeaturesSection';\r\nimport ErrorBoundary from '@/components/ui/feedback/ErrorBoundary';\r\nimport { WeaponProficiencies } from '@/components/WeaponProficiencies';\r\nimport { ToastContainer, useToast } from '@/components/ui/feedback/Toast';\r\nimport { ConfirmationModal } from '@/components/ui/feedback/ConfirmationModal';\r\nimport { YouDiedOverlay } from '@/components/ui/feedback/YouDiedOverlay';\r\nimport { LevelUpOverlay } from '@/components/ui/feedback/LevelUpOverlay';\r\n\r\nimport CharacterSheetHeader from '@/components/ui/character/CharacterSheetHeader';\r\nimport CharacterBasicInfo from '@/components/ui/character/CharacterBasicInfo';\r\nimport HitDiceTracker from '@/components/ui/character/HitDiceTracker';\r\nimport RestManager from '@/components/ui/character/RestManager';\r\nimport DaysSpentTracker from '@/components/ui/character/DaysSpentTracker';\r\nimport AbilityScores from '@/components/ui/character/AbilityScores';\r\nimport ArmorClassManager from '@/components/ui/character/ArmorClassManager';\r\nimport SavingThrows from '@/components/ui/character/SavingThrows';\r\nimport Skills from '@/components/ui/character/Skills';\r\nimport CombatStats from '@/components/ui/character/CombatStats';\r\nimport ActionsSection from '@/components/ui/character/ActionsSection';\r\nimport CollapsibleSection from '@/components/ui/layout/CollapsibleSection';\r\nimport QuickStats from '@/components/ui/character/QuickStats';\r\nimport LanguagesAndProficiencies from '@/components/ui/character/LanguagesAndProficiencies';\r\nimport { ExtendedFeaturesSection } from '@/components/ui/character/ExtendedFeatures';\r\nimport { useHydration } from '@/hooks/useHydration';\r\nimport { ABILITY_NAMES, SKILL_NAMES } from '@/utils/constants';\r\nimport {\r\n  calculateModifier,\r\n  getProficiencyBonus,\r\n  hasSpellSlots,\r\n  calculateSkillModifier,\r\n} from '@/utils/calculations';\r\nimport { exportCharacterToFile } from '@/utils/fileOperations';\r\nimport {\r\n  AbilityName,\r\n  SkillName,\r\n  CharacterState,\r\n  ExtendedFeature,\r\n} from '@/types/character';\r\nimport { useCallback, useEffect, useState, useRef } from 'react';\r\nimport GroupedTabs, {\r\n  GroupedTabsRef,\r\n} from '@/components/ui/layout/GroupedTabs';\r\nimport { NavigationContext } from '@/contexts/NavigationContext';\r\nimport { createCharacterSheetTabsConfig } from './characterSheetTabs';\r\nimport { useSimpleDiceRoll } from '@/hooks/useSimpleDiceRoll';\r\n\r\nimport { RollSummary } from '@/types/dice';\r\nimport NotHydrated from '@/components/ui/feedback/NotHydrated';\r\n\r\nexport default function CharacterSheet() {\r\n  const params = useParams();\r\n  const characterId = params.characterId as string;\r\n\r\n  const { getCharacterById, updateCharacterData } = usePlayerStore();\r\n  const playerCharacter = getCharacterById(characterId);\r\n\r\n  const hasHydrated = useHydration();\r\n\r\n  const { isReady: diceBoxInitialized, roll: rollDice } = useSimpleDiceRoll({\r\n    containerId: 'main-dice-container',\r\n    onRollComplete: (summary: RollSummary) => {\r\n      console.log('Dice roll completed:', summary);\r\n    },\r\n    onError: (error: string) => {\r\n      console.error('Dice roll error:', error);\r\n    },\r\n  });\r\n\r\n  const {\r\n    toasts,\r\n    dismissToast,\r\n    showAttackRoll,\r\n    showSavingThrow,\r\n    showDamageRoll,\r\n    showShortRest,\r\n    showLongRest,\r\n    addToast,\r\n  } = useToast();\r\n\r\n  const {\r\n    character,\r\n    saveStatus,\r\n    lastSaved,\r\n    hasUnsavedChanges,\r\n    updateCharacter,\r\n    updateAbilityScore,\r\n    updateSkillProficiency,\r\n    updateSkillExpertise,\r\n    updateSavingThrowProficiency,\r\n    updateHitPoints,\r\n    updateInitiative,\r\n    resetInitiativeToDefault,\r\n    applyDamageToCharacter,\r\n    applyHealingToCharacter,\r\n    addTemporaryHPToCharacter,\r\n    makeDeathSavingThrow,\r\n    resetDeathSavingThrows,\r\n    toggleHPCalculationMode,\r\n    recalculateMaxHP,\r\n    updateClass,\r\n    updateLevel,\r\n    updateSpellSlot,\r\n    updatePactMagicSlot,\r\n    resetSpellSlots,\r\n    resetPactMagicSlots,\r\n    addExperience,\r\n    setExperience,\r\n    addFeature,\r\n    updateFeature,\r\n    deleteFeature,\r\n    addTrait,\r\n    updateTrait,\r\n    deleteTrait,\r\n    addNote,\r\n    updateNote,\r\n    deleteNote,\r\n    reorderNotes,\r\n    addExtendedFeature,\r\n    updateExtendedFeature,\r\n    deleteExtendedFeature,\r\n    useExtendedFeature,\r\n    resetExtendedFeatures,\r\n    reorderExtendedFeatures,\r\n    migrateTraitsToExtendedFeatures,\r\n    updateCharacterBackground,\r\n    exportCharacter,\r\n    resetCharacter,\r\n    addHeroicInspiration,\r\n    updateHeroicInspiration,\r\n    useHeroicInspiration,\r\n    resetHeroicInspiration,\r\n    toggleReaction,\r\n    resetReaction,\r\n    updateTempArmorClass,\r\n    toggleJackOfAllTrades,\r\n    toggleShield,\r\n    updateShieldBonus,\r\n    stopConcentration,\r\n    loadCharacterState,\r\n    // Multiclass methods\r\n    addClassLevel,\r\n    removeClassLevel,\r\n    updateClassLevel,\r\n    getClassDisplayString,\r\n    // Hit dice methods\r\n    useHitDie,\r\n    restoreHitDice,\r\n    resetAllHitDice,\r\n    // Rest management (centralized)\r\n    takeShortRest,\r\n    takeLongRest,\r\n    // Language and tool proficiency methods\r\n    addLanguage,\r\n    deleteLanguage,\r\n    addToolProficiency,\r\n    updateToolProficiency,\r\n    deleteToolProficiency,\r\n    // Campaign tracking\r\n    updateDaysSpent,\r\n    incrementDaysSpent,\r\n    // Easter egg animations\r\n    showDeathAnimation,\r\n    clearDeathAnimation,\r\n    showLevelUpAnimation,\r\n    levelUpAnimationLevel,\r\n    clearLevelUpAnimation,\r\n  } = useCharacterStore();\r\n\r\n  const [showResetModal, setShowResetModal] = useState(false);\r\n\r\n  const { manualSave } = useAutoSave();\r\n\r\n  const lastLoadedCharacterRef = useRef<string | null>(null);\r\n  const lastSyncedCharacterRef = useRef<CharacterState | null>(null);\r\n  const [isInitialLoad, setIsInitialLoad] = useState(true);\r\n\r\n  // Load character data into store when component mounts or character changes\r\n  useEffect(() => {\r\n    if (playerCharacter && hasHydrated) {\r\n      const currentCharacterId = playerCharacter.characterData.id;\r\n\r\n      // Only load if we haven't loaded this character yet or if it's a different character\r\n      if (lastLoadedCharacterRef.current !== currentCharacterId) {\r\n        setIsInitialLoad(true);\r\n        loadCharacterState(playerCharacter.characterData);\r\n        lastLoadedCharacterRef.current = currentCharacterId;\r\n        lastSyncedCharacterRef.current = playerCharacter.characterData;\r\n\r\n        // Auto-migrate existing traits to extended features if needed\r\n        const hasTraits =\r\n          (playerCharacter.characterData.trackableTraits || []).length > 0;\r\n        const hasExtended =\r\n          (playerCharacter.characterData.extendedFeatures || []).length > 0;\r\n\r\n        if (hasTraits && !hasExtended) {\r\n          // Small delay to ensure character state is loaded first\r\n          setTimeout(() => {\r\n            migrateTraitsToExtendedFeatures();\r\n          }, 100);\r\n        }\r\n\r\n        // Mark initial load as complete after state has been set\r\n        const timer = setTimeout(() => {\r\n          setIsInitialLoad(false);\r\n        }, 50);\r\n\r\n        return () => clearTimeout(timer);\r\n      }\r\n    }\r\n  }, [\r\n    playerCharacter,\r\n    hasHydrated,\r\n    loadCharacterState,\r\n    migrateTraitsToExtendedFeatures,\r\n  ]);\r\n\r\n  // Sync character data back to player store when it changes (skip during initial load)\r\n  useEffect(() => {\r\n    if (!isInitialLoad && hasHydrated && character.id === characterId) {\r\n      // Deep comparison to prevent unnecessary updates and infinite loops\r\n      const hasActualChanges =\r\n        !lastSyncedCharacterRef.current ||\r\n        JSON.stringify(lastSyncedCharacterRef.current) !==\r\n          JSON.stringify(character);\r\n\r\n      if (hasActualChanges) {\r\n        // Create a deep copy to avoid reference issues\r\n        const characterCopy = JSON.parse(JSON.stringify(character));\r\n        updateCharacterData(characterId, characterCopy);\r\n        lastSyncedCharacterRef.current = characterCopy;\r\n      }\r\n    }\r\n  }, [character, characterId, updateCharacterData, hasHydrated, isInitialLoad]);\r\n\r\n  // Calculate derived values (needs to be before early returns due to hooks)\r\n  const totalLevel = character.totalLevel || character.level;\r\n  const proficiencyBonus = getProficiencyBonus(totalLevel);\r\n\r\n  // Helper function to get ability modifier\r\n  const getAbilityModifier = useCallback(\r\n    (ability: AbilityName) => {\r\n      return calculateModifier(character.abilities[ability]);\r\n    },\r\n    [character.abilities]\r\n  );\r\n\r\n  // All other hooks and refs that were after early returns\r\n  const tabsRef = useRef<GroupedTabsRef>(null);\r\n\r\n  // Navigation helper\r\n  const switchToTab = useCallback((tabId: string) => {\r\n    tabsRef.current?.switchToTab(tabId);\r\n  }, []);\r\n\r\n  // Auto-update initiative when dexterity changes (if not overridden)\r\n  useEffect(() => {\r\n    if (!character.initiative.isOverridden) {\r\n      const dexModifier = getAbilityModifier('dexterity');\r\n      if (character.initiative.value !== dexModifier) {\r\n        updateInitiative(dexModifier, false);\r\n      }\r\n    }\r\n  }, [\r\n    character.abilities.dexterity,\r\n    character.initiative.isOverridden,\r\n    character.initiative.value,\r\n    getAbilityModifier,\r\n    updateInitiative,\r\n  ]);\r\n\r\n  // Auto-recalculate max HP when level or constitution changes (if in auto mode)\r\n  useEffect(() => {\r\n    if (character.hitPoints.calculationMode === 'auto') {\r\n      recalculateMaxHP();\r\n    }\r\n  }, [\r\n    character.level,\r\n    character.abilities.constitution,\r\n    character.class.name,\r\n    character.hitPoints.calculationMode,\r\n    recalculateMaxHP,\r\n  ]);\r\n\r\n  if (!hasHydrated) {\r\n    return <NotHydrated />;\r\n  }\r\n\r\n  if (!playerCharacter) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <FileText size={64} className=\"mx-auto mb-6 text-gray-400\" />\r\n          <h1 className=\"mb-2 text-2xl font-bold text-slate-800\">\r\n            Character Not Found\r\n          </h1>\r\n          <p className=\"mb-6 text-slate-600\">\r\n            The character you&apos;re looking for doesn&apos;t exist or has been\r\n            deleted.\r\n          </p>\r\n          <Link\r\n            href=\"/player\"\r\n            className=\"inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700\"\r\n          >\r\n            <ArrowLeft size={16} />\r\n            Back to Characters\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Helper function to get skill modifier\r\n  const getSkillModifier = (skillName: SkillName) => {\r\n    return calculateSkillModifier(character, skillName);\r\n  };\r\n\r\n  // Helper function to get saving throw modifier\r\n  const getSavingThrowModifier = (ability: AbilityName) => {\r\n    const savingThrow = character.savingThrows[ability];\r\n    let modifier = getAbilityModifier(ability);\r\n\r\n    if (savingThrow.proficient) modifier += proficiencyBonus;\r\n    if (savingThrow.customModifier) modifier += savingThrow.customModifier;\r\n\r\n    return modifier;\r\n  };\r\n\r\n  // Get initiative modifier - either calculated or overridden\r\n  const getInitiativeModifier = () => {\r\n    if (character.initiative.isOverridden) {\r\n      return character.initiative.value;\r\n    }\r\n    return getAbilityModifier('dexterity');\r\n  };\r\n\r\n  // Roll saving throw\r\n  const rollSavingThrow = async (ability: AbilityName) => {\r\n    const saveModifier = getSavingThrowModifier(ability);\r\n\r\n    // Roll 3D dice and use actual result\r\n    if (diceBoxInitialized) {\r\n      try {\r\n        const rollResult = await rollDice(\r\n          `1d20${saveModifier > 0 ? `+${saveModifier}` : saveModifier}`\r\n        );\r\n        if (\r\n          rollResult &&\r\n          typeof rollResult === 'object' &&\r\n          'individualValues' in rollResult\r\n        ) {\r\n          const summary = rollResult as RollSummary;\r\n          const roll = summary.individualValues[0] || 1; // Get the d20 result\r\n          const isCrit = roll === 20;\r\n\r\n          // Use showAttackRoll since it's more appropriate for displaying dice rolls\r\n          showAttackRoll(\r\n            `${ABILITY_NAMES[ability]} Save`,\r\n            roll,\r\n            saveModifier,\r\n            isCrit\r\n          );\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.warn(\r\n          'Dice animation failed, falling back to random roll:',\r\n          error\r\n        );\r\n      }\r\n    }\r\n\r\n    // Fallback to random roll if animation fails or isn't available\r\n    const roll = Math.floor(Math.random() * 20) + 1;\r\n    const isCrit = roll === 20;\r\n\r\n    // Use showAttackRoll since it's more appropriate for displaying dice rolls\r\n    showAttackRoll(\r\n      `${ABILITY_NAMES[ability]} Save`,\r\n      roll,\r\n      saveModifier,\r\n      isCrit\r\n    );\r\n  };\r\n\r\n  // Roll skill check\r\n  const rollSkillCheck = async (skillName: SkillName) => {\r\n    const skillModifier = getSkillModifier(skillName);\r\n\r\n    // Roll 3D dice and use actual result\r\n    if (diceBoxInitialized) {\r\n      try {\r\n        const rollResult = await rollDice(\r\n          `1d20${skillModifier > 0 ? `+${skillModifier}` : skillModifier}`\r\n        );\r\n        if (\r\n          rollResult &&\r\n          typeof rollResult === 'object' &&\r\n          'individualValues' in rollResult\r\n        ) {\r\n          const summary = rollResult as RollSummary;\r\n          const roll = summary.individualValues[0] || 1; // Get the d20 result\r\n          const isCrit = roll === 20;\r\n\r\n          showAttackRoll(SKILL_NAMES[skillName], roll, skillModifier, isCrit);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.warn(\r\n          'Dice animation failed, falling back to random roll:',\r\n          error\r\n        );\r\n      }\r\n    }\r\n\r\n    // Fallback to random roll if animation fails or isn't available\r\n    const roll = Math.floor(Math.random() * 20) + 1;\r\n    const isCrit = roll === 20;\r\n\r\n    showAttackRoll(SKILL_NAMES[skillName], roll, skillModifier, isCrit);\r\n  };\r\n\r\n  // Roll ability check\r\n  const rollAbilityCheck = async (ability: AbilityName) => {\r\n    const abilityModifier = getAbilityModifier(ability);\r\n\r\n    // Roll 3D dice and use actual result\r\n    if (diceBoxInitialized) {\r\n      try {\r\n        const rollResult = await rollDice(\r\n          `1d20${abilityModifier > 0 ? `+${abilityModifier}` : abilityModifier}`\r\n        );\r\n        if (\r\n          rollResult &&\r\n          typeof rollResult === 'object' &&\r\n          'individualValues' in rollResult\r\n        ) {\r\n          const summary = rollResult as RollSummary;\r\n          const roll = summary.individualValues[0] || 1; // Get the d20 result\r\n          const isCrit = roll === 20;\r\n\r\n          showAttackRoll(\r\n            `${ABILITY_NAMES[ability]} Check`,\r\n            roll,\r\n            abilityModifier,\r\n            isCrit\r\n          );\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.warn(\r\n          'Dice animation failed, falling back to random roll:',\r\n          error\r\n        );\r\n      }\r\n    }\r\n\r\n    // Fallback to random roll if animation fails or isn't available\r\n    const roll = Math.floor(Math.random() * 20) + 1;\r\n    const isCrit = roll === 20;\r\n\r\n    showAttackRoll(\r\n      `${ABILITY_NAMES[ability]} Check`,\r\n      roll,\r\n      abilityModifier,\r\n      isCrit\r\n    );\r\n  };\r\n\r\n  // Roll initiative\r\n  const rollInitiative = async () => {\r\n    const initiativeModifier = getInitiativeModifier();\r\n\r\n    // Roll 3D dice and use actual result\r\n    if (diceBoxInitialized) {\r\n      try {\r\n        const rollResult = await rollDice(\r\n          `1d20${initiativeModifier > 0 ? `+${initiativeModifier}` : initiativeModifier}`\r\n        );\r\n        if (\r\n          rollResult &&\r\n          typeof rollResult === 'object' &&\r\n          'individualValues' in rollResult\r\n        ) {\r\n          const summary = rollResult as RollSummary;\r\n          const roll = summary.individualValues[0] || 1; // Get the d20 result\r\n          const isCrit = roll === 20;\r\n\r\n          showAttackRoll('Initiative', roll, initiativeModifier, isCrit);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.warn(\r\n          'Dice animation failed, falling back to random roll:',\r\n          error\r\n        );\r\n      }\r\n    }\r\n\r\n    // Fallback to random roll if animation fails or isn't available\r\n    const roll = Math.floor(Math.random() * 20) + 1;\r\n    const isCrit = roll === 20;\r\n\r\n    showAttackRoll('Initiative', roll, initiativeModifier, isCrit);\r\n  };\r\n\r\n  // Check if character has spell capabilities\r\n  const characterHasSpells = hasSpellSlots(\r\n    character.spellSlots,\r\n    character.pactMagic\r\n  );\r\n\r\n  // Export functionality\r\n  const handleExport = () => {\r\n    try {\r\n      const exportData = exportCharacter();\r\n      exportCharacterToFile(exportData);\r\n    } catch (error) {\r\n      console.error('Export failed:', error);\r\n      alert('Failed to export character. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <NavigationContext.Provider value={{ switchToTab }}>\r\n        <div className=\"relative min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\">\r\n          {/* Header */}\r\n          <CharacterSheetHeader\r\n            characterId={characterId}\r\n            characterName={character.name}\r\n            characterRace={character.race}\r\n            characterClass={character.class?.name || 'Unknown Class'}\r\n            characterLevel={character.level}\r\n            saveStatus={saveStatus}\r\n            lastSaved={lastSaved}\r\n            hasUnsavedChanges={hasUnsavedChanges}\r\n            onManualSave={manualSave}\r\n            onExport={handleExport}\r\n            onShowResetModal={() => setShowResetModal(true)}\r\n            onUpdateName={name => updateCharacter({ name })}\r\n            onAddToast={addToast}\r\n          />\r\n\r\n          <div className=\"p-4\">\r\n            {/* Main Dice Container */}\r\n            <div\r\n              id=\"main-dice-container\"\r\n              className=\"pointer-events-none fixed inset-0 z-[9999]\"\r\n              style={{\r\n                width: '100vw',\r\n                height: '100vh',\r\n                top: 0,\r\n                left: 0,\r\n              }}\r\n            ></div>\r\n            <style jsx global>{`\r\n              #main-dice-container {\r\n                position: fixed;\r\n                inset: 0;\r\n                width: 100vw;\r\n                height: 100vh;\r\n              }\r\n              #main-dice-container canvas,\r\n              #main-dice-container > div,\r\n              #main-dice-container > canvas {\r\n                position: absolute !important;\r\n                top: 0 !important;\r\n                left: 0 !important;\r\n                width: 100% !important;\r\n                height: 100% !important;\r\n                max-width: 100% !important;\r\n                max-height: 100% !important;\r\n                display: block !important;\r\n              }\r\n            `}</style>\r\n\r\n            <ExperimentalFeaturesSection />\r\n\r\n            {/* Main Character Sheet */}\r\n            <main className=\"relative z-10 mx-auto max-w-7xl space-y-8\">\r\n              {/* Actions Section */}\r\n              <CollapsibleSection\r\n                title=\"Actions & Combat\"\r\n                icon=\"‚öîÔ∏è\"\r\n                defaultExpanded={true}\r\n                persistKey=\"actions-combat\"\r\n                className=\"rounded-xl border-2 border-slate-300 bg-gradient-to-r from-slate-50 to-slate-100 shadow-lg backdrop-blur-sm\"\r\n                headerClassName=\"rounded-t-xl\"\r\n                contentClassName=\"px-6 pb-6\"\r\n                badge={\r\n                  character.concentration.isConcentrating && (\r\n                    <span className=\"rounded-full bg-orange-100 px-3 py-1 text-sm font-medium text-orange-800\">\r\n                      Concentrating\r\n                    </span>\r\n                  )\r\n                }\r\n              >\r\n                <ActionsSection\r\n                  character={character}\r\n                  showAttackRoll={showAttackRoll}\r\n                  showSavingThrow={showSavingThrow}\r\n                  showDamageRoll={showDamageRoll}\r\n                  animateRoll={diceBoxInitialized ? rollDice : undefined}\r\n                  switchToTab={switchToTab}\r\n                  onStopConcentration={stopConcentration}\r\n                />\r\n              </CollapsibleSection>\r\n\r\n              {/* Rest & Recovery - Standalone Section */}\r\n              <CollapsibleSection\r\n                title=\"Rest & Recovery\"\r\n                icon=\"üõå\"\r\n                defaultExpanded={false}\r\n                persistKey=\"rest-recovery\"\r\n                className=\"rounded-lg border border-gray-200 bg-white shadow-lg\"\r\n                contentClassName=\"px-6 pb-6\"\r\n                badge={\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"rounded-md bg-amber-100 px-2 py-0.5 text-xs font-medium text-amber-700\">\r\n                      Day {character.daysSpent || 0}\r\n                    </span>\r\n                    <span className=\"rounded-md bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700\">\r\n                      Short Rest\r\n                    </span>\r\n                    <span className=\"rounded-md bg-indigo-100 px-2 py-0.5 text-xs font-medium text-indigo-700\">\r\n                      Long Rest\r\n                    </span>\r\n                  </div>\r\n                }\r\n              >\r\n                <div className=\"space-y-6\">\r\n                  {/* Rest Manager */}\r\n                  <RestManager\r\n                    onShortRest={takeShortRest}\r\n                    onLongRest={takeLongRest}\r\n                    onShowShortRestToast={showShortRest}\r\n                    onShowLongRestToast={showLongRest}\r\n                  />\r\n\r\n                  {/* Days Spent Tracker - Full Width */}\r\n                  <DaysSpentTracker\r\n                    daysSpent={character.daysSpent || 0}\r\n                    onUpdateDays={updateDaysSpent}\r\n                    onIncrementDays={incrementDaysSpent}\r\n                  />\r\n                </div>\r\n              </CollapsibleSection>\r\n\r\n              {/* Section Divider */}\r\n              <div className=\"flex items-center justify-center\">\r\n                <div className=\"h-px w-full max-w-md bg-gradient-to-r from-transparent via-gray-300 to-transparent\"></div>\r\n                <span className=\"px-4 font-medium text-gray-500\">\r\n                  Core Stats\r\n                </span>\r\n                <div className=\"h-px w-full max-w-md bg-gradient-to-r from-transparent via-gray-300 to-transparent\"></div>\r\n              </div>\r\n\r\n              {/* Core D&D Stats Section */}\r\n              <CollapsibleSection\r\n                title=\"Character Statistics\"\r\n                icon=\"üìä\"\r\n                defaultExpanded={true}\r\n                persistKey=\"character-statistics\"\r\n                className=\"rounded-xl border-2 border-blue-300 bg-gradient-to-r from-blue-50 to-indigo-50 shadow-lg backdrop-blur-sm\"\r\n                headerClassName=\"rounded-t-xl\"\r\n                contentClassName=\"px-6 pb-6\"\r\n                badge={\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className=\"rounded-full bg-blue-100 px-3 py-1 text-sm font-medium text-blue-800\">\r\n                      Level {totalLevel}\r\n                    </span>\r\n                    <span className=\"rounded-full bg-green-100 px-3 py-1 text-sm font-medium text-green-800\">\r\n                      HP: {character.hitPoints.current}/\r\n                      {character.hitPoints.max}\r\n                    </span>\r\n                  </div>\r\n                }\r\n              >\r\n                <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-12\">\r\n                  {/* Left Column - Basic Info & Ability Scores */}\r\n                  <div className=\"space-y-6 lg:col-span-4\">\r\n                    {/* Basic Character Information */}\r\n                    <CharacterBasicInfo\r\n                      character={character}\r\n                      race={character.race}\r\n                      characterClass={character.class}\r\n                      level={character.level}\r\n                      background={character.background}\r\n                      playerName={character.playerName}\r\n                      alignment={character.alignment}\r\n                      onUpdateRace={race => updateCharacter({ race })}\r\n                      onUpdateClass={updateClass}\r\n                      onUpdateLevel={updateLevel}\r\n                      onUpdateBackground={background =>\r\n                        updateCharacter({ background })\r\n                      }\r\n                      onUpdatePlayerName={playerName =>\r\n                        updateCharacter({ playerName })\r\n                      }\r\n                      onUpdateAlignment={alignment =>\r\n                        updateCharacter({ alignment })\r\n                      }\r\n                      onAddClassLevel={addClassLevel}\r\n                      onRemoveClassLevel={removeClassLevel}\r\n                      onUpdateClassLevel={updateClassLevel}\r\n                      getClassDisplayString={getClassDisplayString}\r\n                    />\r\n\r\n                    {/* Ability Scores */}\r\n                    <AbilityScores\r\n                      abilities={character.abilities}\r\n                      characterLevel={totalLevel}\r\n                      onUpdateAbilityScore={updateAbilityScore}\r\n                      onRollAbilityCheck={rollAbilityCheck}\r\n                    />\r\n\r\n                    {/* Weapon Proficiencies */}\r\n                    <ErrorBoundary\r\n                      fallback={\r\n                        <div className=\"rounded-lg border border-amber-200 bg-white p-4 shadow\">\r\n                          <h3 className=\"mb-2 text-sm font-medium text-gray-700\">\r\n                            Weapon Proficiencies\r\n                          </h3>\r\n                          <p className=\"text-gray-500\">\r\n                            Unable to load weapon proficiencies\r\n                          </p>\r\n                        </div>\r\n                      }\r\n                    >\r\n                      <WeaponProficiencies />\r\n                    </ErrorBoundary>\r\n\r\n                    {/* Heroic Inspiration */}\r\n                    <HeroicInspirationTracker\r\n                      inspiration={character.heroicInspiration}\r\n                      onAddInspiration={addHeroicInspiration}\r\n                      onUpdateInspiration={updateHeroicInspiration}\r\n                      onUseInspiration={useHeroicInspiration}\r\n                      onResetInspiration={resetHeroicInspiration}\r\n                    />\r\n\r\n                    {/* Conditions & Diseases Quick View */}\r\n                    {hasHydrated &&\r\n                      (character.conditionsAndDiseases?.activeConditions\r\n                        ?.length > 0 ||\r\n                        character.conditionsAndDiseases?.activeDiseases\r\n                          ?.length > 0) && (\r\n                        <div className=\"rounded-lg border-2 border-red-200 bg-gradient-to-br from-red-50 to-pink-50 p-4 shadow-sm\">\r\n                          <div className=\"mb-3 flex items-center justify-between\">\r\n                            <h3 className=\"flex items-center gap-2 text-base font-semibold text-red-800\">\r\n                              <AlertTriangle className=\"h-5 w-5\" />\r\n                              Active Conditions & Diseases\r\n                            </h3>\r\n                            <Button\r\n                              onClick={() =>\r\n                                tabsRef.current?.switchToTab('conditions')\r\n                              }\r\n                              variant=\"ghost\"\r\n                              size=\"xs\"\r\n                              className=\"text-red-600 hover:bg-red-100\"\r\n                            >\r\n                              Manage ‚Üí\r\n                            </Button>\r\n                          </div>\r\n                          <div className=\"space-y-2\">\r\n                            {character.conditionsAndDiseases?.activeConditions?.map?.(\r\n                              condition => (\r\n                                <div\r\n                                  key={condition.id}\r\n                                  className=\"flex items-center justify-between gap-2 rounded-lg border-2 border-red-200 bg-white p-2\"\r\n                                >\r\n                                  <div className=\"flex items-center gap-2\">\r\n                                    <Badge variant=\"danger\" size=\"sm\">\r\n                                      {condition.name}\r\n                                    </Badge>\r\n                                    {condition.stackable &&\r\n                                      condition.count > 1 && (\r\n                                        <Badge variant=\"warning\" size=\"sm\">\r\n                                          Level {condition.count}\r\n                                        </Badge>\r\n                                      )}\r\n                                  </div>\r\n                                  <Badge variant=\"neutral\" size=\"sm\">\r\n                                    {condition.source}\r\n                                  </Badge>\r\n                                </div>\r\n                              )\r\n                            )}\r\n                            {character.conditionsAndDiseases?.activeDiseases?.map?.(\r\n                              disease => (\r\n                                <div\r\n                                  key={disease.id}\r\n                                  className=\"flex items-center justify-between gap-2 rounded-lg border-2 border-purple-200 bg-white p-2\"\r\n                                >\r\n                                  <Badge variant=\"info\" size=\"sm\">\r\n                                    {disease.name}\r\n                                  </Badge>\r\n                                  <Badge variant=\"neutral\" size=\"sm\">\r\n                                    {disease.source}\r\n                                  </Badge>\r\n                                </div>\r\n                              )\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                    {/* Quick Stats */}\r\n                    <QuickStats\r\n                      passivePerception={10 + getSkillModifier('perception')}\r\n                      proficiencyBonus={proficiencyBonus}\r\n                    />\r\n\r\n                    {/* Special Abilities - Read-only, only show active abilities from extendedFeatures */}\r\n                    <TraitTracker<ExtendedFeature>\r\n                      traits={(character.extendedFeatures || []).filter(\r\n                        trait => !trait.isPassive\r\n                      )}\r\n                      characterLevel={totalLevel}\r\n                      onUpdateTrait={updateExtendedFeature}\r\n                      onDeleteTrait={deleteExtendedFeature}\r\n                      onUseTrait={useExtendedFeature}\r\n                      onResetTraits={resetExtendedFeatures}\r\n                      readonly={false}\r\n                      hideControls={true}\r\n                      enableViewModal={true}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Middle Column - Skills & Saving Throws */}\r\n                  <div className=\"space-y-6 lg:col-span-4\">\r\n                    {/* Saving Throws */}\r\n                    <SavingThrows\r\n                      savingThrows={character.savingThrows}\r\n                      getSavingThrowModifier={getSavingThrowModifier}\r\n                      onUpdateSavingThrowProficiency={\r\n                        updateSavingThrowProficiency\r\n                      }\r\n                      onRollSavingThrow={rollSavingThrow}\r\n                    />\r\n\r\n                    {/* Skills */}\r\n                    <Skills\r\n                      skills={character.skills}\r\n                      jackOfAllTrades={character.jackOfAllTrades ?? false}\r\n                      proficiencyBonus={proficiencyBonus}\r\n                      getSkillModifier={getSkillModifier}\r\n                      onUpdateSkillProficiency={updateSkillProficiency}\r\n                      onUpdateSkillExpertise={updateSkillExpertise}\r\n                      onToggleJackOfAllTrades={toggleJackOfAllTrades}\r\n                      onRollSkillCheck={rollSkillCheck}\r\n                    />\r\n\r\n                    {/* Experience Points */}\r\n                    <div className=\"rounded-lg border border-amber-200 bg-white p-6 shadow-lg\">\r\n                      <h2 className=\"mb-4 border-b border-gray-200 pb-2 text-lg font-bold text-gray-800\">\r\n                        Experience Points\r\n                      </h2>\r\n                      <XPTracker\r\n                        currentXP={character.experience}\r\n                        currentLevel={totalLevel}\r\n                        onAddXP={addExperience}\r\n                        onSetXP={setExperience}\r\n                      />\r\n                    </div>\r\n\r\n                    {/* Spell Slots */}\r\n                    {characterHasSpells && (\r\n                      <SpellSlotTracker\r\n                        spellSlots={character.spellSlots}\r\n                        pactMagic={character.pactMagic}\r\n                        onSpellSlotChange={updateSpellSlot}\r\n                        onPactMagicChange={\r\n                          character.pactMagic ? updatePactMagicSlot : undefined\r\n                        }\r\n                        onResetSpellSlots={resetSpellSlots}\r\n                        onResetPactMagic={\r\n                          character.pactMagic ? resetPactMagicSlots : undefined\r\n                        }\r\n                      />\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Right Column - Combat Stats & Features */}\r\n                  <div className=\"space-y-6 lg:col-span-4\">\r\n                    {/* Combat Stats */}\r\n                    <div className=\"rounded-lg border border-amber-200 bg-white p-6 shadow-lg\">\r\n                      <h2 className=\"mb-4 border-b border-gray-200 pb-2 text-lg font-bold text-gray-800\">\r\n                        Combat Stats\r\n                      </h2>\r\n\r\n                      {/* Armor Class */}\r\n                      <ArmorClassManager\r\n                        character={character}\r\n                        onUpdateArmorClass={ac =>\r\n                          updateCharacter({ armorClass: ac })\r\n                        }\r\n                        onUpdateTempArmorClass={updateTempArmorClass}\r\n                        onToggleShield={toggleShield}\r\n                        onUpdateShieldBonus={updateShieldBonus}\r\n                      />\r\n\r\n                      {/* Combat Stats */}\r\n                      <CombatStats\r\n                        character={character}\r\n                        getInitiativeModifier={getInitiativeModifier}\r\n                        onUpdateInitiative={updateInitiative}\r\n                        onResetInitiativeToDefault={resetInitiativeToDefault}\r\n                        onUpdateSpeed={speed => updateCharacter({ speed })}\r\n                        onToggleReaction={toggleReaction}\r\n                        onResetReaction={resetReaction}\r\n                        onRollInitiative={rollInitiative}\r\n                      />\r\n\r\n                      {/* Hit Points - Now using comprehensive HP Manager */}\r\n                      <div className=\"mb-6\">\r\n                        <ErrorBoundary\r\n                          fallback={\r\n                            <div className=\"rounded-lg border border-red-200 bg-white p-6 shadow-lg\">\r\n                              <h3 className=\"mb-4 text-lg font-bold text-red-800\">\r\n                                Hit Points\r\n                              </h3>\r\n                              <p className=\"text-gray-500\">\r\n                                Unable to load HP manager\r\n                              </p>\r\n                            </div>\r\n                          }\r\n                        >\r\n                          <HitPointManager\r\n                            hitPoints={character.hitPoints}\r\n                            classInfo={character.class}\r\n                            level={totalLevel}\r\n                            constitutionScore={character.abilities.constitution}\r\n                            onApplyDamage={applyDamageToCharacter}\r\n                            onApplyHealing={applyHealingToCharacter}\r\n                            onAddTemporaryHP={addTemporaryHPToCharacter}\r\n                            onMakeDeathSave={makeDeathSavingThrow}\r\n                            onResetDeathSaves={resetDeathSavingThrows}\r\n                            onToggleCalculationMode={toggleHPCalculationMode}\r\n                            onRecalculateMaxHP={recalculateMaxHP}\r\n                            onUpdateHitPoints={updateHitPoints}\r\n                          />\r\n                        </ErrorBoundary>\r\n                      </div>\r\n\r\n                      {/* Hit Dice */}\r\n                      <ErrorBoundary\r\n                        fallback={\r\n                          <div className=\"rounded-lg border border-purple-200 bg-white p-4 shadow\">\r\n                            <h3 className=\"mb-2 text-sm font-medium text-gray-700\">\r\n                              Hit Dice\r\n                            </h3>\r\n                            <p className=\"text-gray-500\">\r\n                              Unable to load hit dice tracker\r\n                            </p>\r\n                          </div>\r\n                        }\r\n                      >\r\n                        <HitDiceTracker\r\n                          hitDicePools={character.hitDicePools || {}}\r\n                          onUseHitDie={useHitDie}\r\n                          onRestoreHitDice={restoreHitDice}\r\n                          onResetAllHitDice={resetAllHitDice}\r\n                        />\r\n                      </ErrorBoundary>\r\n                    </div>\r\n                    {/* Languages & Tool Proficiencies */}\r\n                    <LanguagesAndProficiencies\r\n                      languages={character.languages || []}\r\n                      toolProficiencies={character.toolProficiencies || []}\r\n                      proficiencyBonus={proficiencyBonus}\r\n                      onAddLanguage={addLanguage}\r\n                      onDeleteLanguage={deleteLanguage}\r\n                      onAddToolProficiency={addToolProficiency}\r\n                      onUpdateToolProficiency={updateToolProficiency}\r\n                      onDeleteToolProficiency={deleteToolProficiency}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </CollapsibleSection>\r\n\r\n              {/* Active Abilities & Features Section */}\r\n              <CollapsibleSection\r\n                title=\"Active Abilities & Features\"\r\n                icon=\"‚ö°\"\r\n                defaultExpanded={false}\r\n                persistKey=\"active-features\"\r\n                className=\"rounded-xl border-2 border-amber-300 bg-gradient-to-r from-amber-50 to-yellow-50 shadow-lg backdrop-blur-sm\"\r\n                headerClassName=\"rounded-t-xl\"\r\n                contentClassName=\"px-6 pb-6\"\r\n                badge={\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {(character.extendedFeatures?.length || 0) > 0 && (\r\n                      <span className=\"rounded-full bg-amber-100 px-3 py-1 text-sm font-medium text-amber-800\">\r\n                        {character.extendedFeatures?.length || 0} abilities\r\n                      </span>\r\n                    )}\r\n                    {character.extendedFeatures?.some(f => f.usedUses > 0) && (\r\n                      <span className=\"rounded-full bg-red-100 px-3 py-1 text-sm font-medium text-red-800\">\r\n                        {\r\n                          character.extendedFeatures?.filter(\r\n                            f => f.usedUses > 0\r\n                          ).length\r\n                        }{' '}\r\n                        used\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                }\r\n              >\r\n                <ExtendedFeaturesSection\r\n                  features={character.extendedFeatures || []}\r\n                  character={character}\r\n                  onAddFeature={addExtendedFeature}\r\n                  onUpdateFeature={updateExtendedFeature}\r\n                  onDeleteFeature={deleteExtendedFeature}\r\n                  onUseFeature={useExtendedFeature}\r\n                  onResetFeatures={resetExtendedFeatures}\r\n                  onReorderFeatures={reorderExtendedFeatures}\r\n                />\r\n              </CollapsibleSection>\r\n\r\n              {/* Grouped Tabbed Interface for Additional Sections */}\r\n              <CollapsibleSection\r\n                title=\"Character Details & Management\"\r\n                icon=\"üìã\"\r\n                defaultExpanded={true}\r\n                persistKey=\"character-details\"\r\n                className=\"rounded-xl border-2 border-green-300 bg-gradient-to-r from-green-50 to-emerald-50 shadow-lg backdrop-blur-sm\"\r\n                headerClassName=\"rounded-t-xl\"\r\n                contentClassName=\"px-6 pb-6\"\r\n                badge={\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {character.spells.length > 0 && (\r\n                      <span className=\"rounded-full bg-purple-100 px-3 py-1 text-sm font-medium text-purple-800\">\r\n                        {character.spells.length} spells\r\n                      </span>\r\n                    )}\r\n                    {(character.features?.length || 0) > 0 && (\r\n                      <span className=\"rounded-full bg-green-100 px-3 py-1 text-sm font-medium text-green-800\">\r\n                        {character.features?.length || 0} features\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                }\r\n              >\r\n                <GroupedTabs\r\n                  defaultTab=\"spellcasting\"\r\n                  className=\"w-full\"\r\n                  groups={createCharacterSheetTabsConfig({\r\n                    character,\r\n                    hasHydrated,\r\n                    addFeature,\r\n                    updateFeature,\r\n                    deleteFeature,\r\n                    addTrait,\r\n                    updateTrait,\r\n                    deleteTrait,\r\n                    updateCharacterBackground,\r\n                    addNote,\r\n                    updateNote,\r\n                    deleteNote,\r\n                    reorderNotes,\r\n                    addToast,\r\n                  })}\r\n                  ref={tabsRef}\r\n                />\r\n              </CollapsibleSection>\r\n            </main>\r\n\r\n            <ToastContainer toasts={toasts} onDismiss={dismissToast} />\r\n\r\n            <YouDiedOverlay\r\n              isVisible={showDeathAnimation}\r\n              onDismiss={clearDeathAnimation}\r\n              characterName={character.name}\r\n            />\r\n\r\n            <LevelUpOverlay\r\n              isVisible={showLevelUpAnimation}\r\n              onDismiss={clearLevelUpAnimation}\r\n              newLevel={levelUpAnimationLevel}\r\n              characterName={character.name}\r\n            />\r\n\r\n            {/* Character Reset Confirmation Modal */}\r\n            <ConfirmationModal\r\n              isOpen={showResetModal}\r\n              onClose={() => setShowResetModal(false)}\r\n              onConfirm={resetCharacter}\r\n              title=\"Reset Character\"\r\n              message=\"Are you sure you want to reset this character? This will permanently delete all character data, including abilities, equipment, spells, and progress. This action cannot be undone.\"\r\n              confirmText=\"Reset Character\"\r\n              cancelText=\"Keep Character\"\r\n              type=\"danger\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </NavigationContext.Provider>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}